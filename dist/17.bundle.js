(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{291:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o});var n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a={display:"flex",flexDirection:"column"},o=(n({},{backgroundColor:"rgb(233, 236, 239)",paddingTop:"4px"},{paddingLeft:"15px"}),function(e){return{header:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,paddingLeft:"5px",paddingRight:"5px",borderRadius:"4px"},toolbar:n({padding:"0 8px"},e.mixins.toolbar)}})},296:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a=function(e,t,r){return function(a){var o=function(e,t,r){return function(a){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];a.apply(void 0,o);var i=t();e(n({},i,{match:n({},i.match,{user:r()})}))}}}(e,t,r);if("function"==typeof a)return o(a);for(var c={},i=0,l=Object.keys(a);i<l.length;i++){var u=l[i];c[u]=o(a[u])}return c}}},297:function(e,t,r){"use strict";var n=r(75),a=r(82),o=r(79),c=r(83),i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l=function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function c(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(c,i)}l((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},s=function(e,t,r){var n=void 0,a=!1;return function(o){var c=function(){return l(void 0,void 0,void 0,function(){var t,r;return u(this,function(a){switch(a.label){case 0:return t=i({},n),n=void 0,[4,e.sendMatch(t)];case 1:return void 0!==(r=a.sent()).id&&r.id!==t.match.id&&o(r.id),void 0!==n&&c(),[2]}})})};return{storeMatch:function(e){return l(void 0,void 0,void 0,function(){return u(this,function(o){switch(o.label){case 0:if(!t()||!r())return[2];if(n=function(e){return{match:i({},e.match),currentBatterIndex:e.currentBatterIndex,currentBowlerIndex:e.currentBowlerIndex,version:e.version,lastEvent:e.lastEvent}}(e),a)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),a=!0,[4,c()];case 2:case 3:return o.sent(),[3,4];case 4:a=!1,o.label=5;case 5:return[2]}})})}}}}(Object(a.a)(Object(o.a)(3,1e3)),function(){return navigator.onLine},c.default.isAuthenticated),d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f=function(e){return function(t){return e.forEach(function(e){return e(t)})}},h=function(e){return function(t){e(t);var r=Object(n.a)(localStorage).getMatch();void 0!==r&&Object(n.a)(localStorage).storeMatch(d({},r,{match:d({},r.match,{id:t})}))}};t.a=function(e,t){return f(e?[Object(n.a)(localStorage).storeMatch,s(h(t)).storeMatch]:[Object(n.a)(localStorage).storeMatch])}},299:function(e,t,r){"use strict";var n=r(0),a=r(15),o=r.n(a),c=r(76),i=r.n(c),l=r(21),u=r.n(l),s=r(311),d=r.n(s),f=r(34);t.a=function(e){var t=e.heading,r=e.save,a=e.canSave,c=e.children;return n.createElement(n.Fragment,null,n.createElement(i.a,{disableGutters:!0},n.createElement(o.a,{variant:"h4",color:"inherit",style:{flexGrow:1}},t),n.createElement(f.a,{title:a()?"Click to save":"Must be filled in before you can save"},n.createElement("span",null,n.createElement(u.a,{"aria-label":"complete",variant:"fab",color:"primary",onClick:r,disabled:!a()},n.createElement(d.a,null))))),c)}},332:function(e,t,r){"use strict";var n=r(0),a=r(15),o=r.n(a),c=r(55),i=r(333),l=r.n(i),u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s={margin:"4px",textAlign:"center"},d=function(e){return{warning:{backgroundColor:"transparent",border:"1px solid "+e.palette.primary.main,color:e.palette.primary.main,paddingLeft:"5px",paddingRight:"5px",borderRadius:"4px"}}},f={marginRight:"4px",marginBottom:"-6px"};t.a=function(e){return Object(c.withStyles)(d)(function(t){return n.createElement(n.Fragment,null,!t.isAuthenticated&&n.createElement("div",{style:s},n.createElement("div",{className:t.classes.warning},n.createElement("span",null,n.createElement(o.a,{color:"inherit",variant:"body2"},n.createElement(l.a,{style:f}),"You are not currently logged in, you can continue to score but the match will not be stored online or appear in live updates")))),n.createElement(e,u({},t)))})}},419:function(e,t,r){"use strict";var n=r(0),a=r(40),o=r.n(a),c=r(15),i=r.n(c),l=r(55),u=r(291),s=r(316),d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f={paddingLeft:"20px",width:"50%"};t.a=Object(l.withStyles)(u.b)(function(e){var t=e.batter,r=e.bowler,a=e.classes;return n.createElement(o.a,{container:!0,className:a.header},n.createElement(s.c,{xsDown:!0},n.createElement(i.a,{style:d({},f,{width:"50%"}),color:"inherit",variant:"h5"},"Â "),n.createElement(i.a,{style:f,color:"inherit",variant:"h5"},r+" to "+t)),n.createElement(s.c,{smUp:!0},n.createElement(i.a,{style:d({},f,{width:"100%"}),color:"inherit",variant:"h5"},r+" to "+t)))})},569:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(298),o=r(287),c=r(32),i=r.n(c),l=r(55),u=r(299),s=r(288),d=r(419),f=r(40),h=r.n(f),g=r(295),m=r.n(g),v=r(308),p=r.n(v),b=r(290),y=r.n(b),E=r(300),w=r.n(E),O=r(292),x=r.n(O),P=r(320),j=r.n(P),C=function(e){var t=e.fieldName,r=e.selected,a=e.changed;return n.createElement(x.a,{value:void 0===r?0:r,onChange:function(e){return a(Number(e.target.value),t)}},n.createElement(y.a,{value:0},"0"),n.createElement(y.a,{value:1},"1"),n.createElement(y.a,{value:2},"2"),n.createElement(y.a,{value:3},"3"),n.createElement(y.a,{value:4},"4"),n.createElement(y.a,{value:5},"5"),n.createElement(y.a,{value:6},"6"))},B=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k={marginTop:"20px"},S=[],N=function(e){var t=S.find(function(t){return t.howout===e});if(void 0!==t)return t.description;var r,n=(r=s.d[e],Array.from(r).reduce(function(e,t){return""===e||t.charCodeAt(0)<65||t.charCodeAt(0)>90?""+e+t:e+" "+String.fromCharCode(t.charCodeAt(0)+32)},""));return S.push({howout:e,description:n}),n},I=function(e,t){return function(r,n){var a;return t(B({},e,((a={})[n]=r,a)))}},M=function(e){return n.createElement(h.a,{container:!0},n.createElement(m.a,{fullWidth:!0,style:k},n.createElement(w.a,{htmlFor:"batter"},"Batter"),n.createElement(x.a,{inputProps:{id:"batter"},value:e.batterIndex,onChange:function(t){return e.batterChange(Number(t.target.value))}},e.batters.map(function(t,r){return n.createElement(y.a,{key:r,value:r},e.battingPlayers[t.playerIndex])}))),n.createElement(m.a,{fullWidth:!0,style:k},n.createElement(w.a,{htmlFor:"howout"},"Howout"),n.createElement(x.a,{inputProps:{id:"howout"},value:void 0===e.howout?-1:e.howout,onChange:function(t){return e.howoutChange(e.availableHowouts[Number(t.target.value)])}},n.createElement(y.a,{value:-1},"Select..."),e.availableHowouts.map(function(e,t){return n.createElement(y.a,{key:t,value:t},N(e))}))),e.fielderRequired&&n.createElement(m.a,{fullWidth:!0,style:k},n.createElement(w.a,{htmlFor:"fielder"},"Fielder"),n.createElement(x.a,{inputProps:{id:"fielder"},value:void 0===e.fielderIndex?-1:e.fielderIndex,onChange:function(t){return e.fielderChange(Number(t.target.value))}},n.createElement(y.a,{value:-1},"Select..."),e.fielders.concat("sub").map(function(e,t){return n.createElement(y.a,{key:t,value:t},e)}))),e.couldCross&&n.createElement(p.a,{style:k,label:"Batters crossed",control:n.createElement(j.a,{checked:e.crossed,color:"primary",onChange:function(t){return e.crossedChange(t.target.checked)}})}),e.couldScoreRuns&&n.createElement(n.Fragment,null,n.createElement(m.a,{fullWidth:!0,style:k},n.createElement(w.a,{htmlFor:"runs"},"Runs"),n.createElement(C,{fieldName:"runs",selected:e.scores.runs,changed:I(e.scores,e.scoresChange)})),n.createElement(m.a,{fullWidth:!0,style:k},n.createElement(w.a,{htmlFor:"byes"},"Byes"),n.createElement(C,{fieldName:"byes",selected:e.scores.byes,changed:I(e.scores,e.scoresChange)})),n.createElement(m.a,{fullWidth:!0,style:k},n.createElement(w.a,{htmlFor:"legByes"},"Leg byes"),n.createElement(C,{fieldName:"legByes",selected:e.scores.legByes,changed:I(e.scores,e.scoresChange)}))),e.couldBeNoBall&&n.createElement(p.a,{style:k,label:"No ball",control:n.createElement(j.a,{checked:e.deliveryOutcome===s.b.Noball,color:"primary",onChange:function(t){return e.deliveryOutcomeChange(t.target.checked?s.b.Noball:s.b.Valid)}})}),e.couldBeWide&&n.createElement(p.a,{style:k,label:"Wide",control:n.createElement(j.a,{checked:e.deliveryOutcome===s.b.Wide,color:"primary",onChange:function(t){return e.deliveryOutcomeChange(t.target.checked?s.b.Wide:s.b.Valid)}})}))},W=r(296),F=r(289),R=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T=[s.d.TimedOut],A=Object(l.withStyles)(function(e){return{root:R({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,margin:"20px"})}})(Object(o.a)(function(e){var t=n.useState(0),r=t[0],a=t[1],o=n.useState(void 0),c=o[0],l=o[1],f=n.useState(!1),h=f[0],g=f[1],m=n.useState({}),v=m[0],p=m[1],b=n.useState(s.b.Valid),y=b[0],E=b[1],w=n.useState(void 0),O=w[0],x=w[1],P=Object(W.a)(e.storeMatch,function(){return e.inProgress},function(){return e.userProfile.id}),j=P(e.inProgress.delivery),C=P(e.inProgress.nonDeliveryWicket),B=void 0===e.inProgress.currentBatter?function(){return[]}:s.r(e.inProgress.currentBatter),k=function(){return void 0===e.inProgress.currentInnings||void 0===e.inProgress.currentBatter?[]:[e.inProgress.currentBatter].concat(e.inProgress.currentInnings.batting.batters.filter(function(t){return t!==e.inProgress.currentBatter&&void 0!==t.innings&&void 0===t.innings.wicket}))};if(void 0===e.inProgress.currentBatter||void 0===e.inProgress.currentBowler)return n.createElement("div",{className:"alert alert-danger",role:"alert"},"No current delivery");var S=Object(F.a)(e.inProgress.match,e.inProgress.currentInnings.battingTeam),N=Object(F.a)(e.inProgress.match,e.inProgress.currentInnings.bowlingTeam);return n.createElement(i.a,{className:e.classes.root},n.createElement(u.a,{heading:"Wicket",save:function(){T.find(function(e){return e===O})?C(O):j(y,v,function(){if(void 0!==O)return{fielderIndex:c,howOut:O,changedEnds:h}}()),e.history.push("/match/inprogress")},canSave:function(){return void 0!==O&&(s.q(O)&&void 0!==c||!s.q(O)&&void 0===c)}},n.createElement(d.a,{batter:S.players[e.inProgress.currentBatter.playerIndex],bowler:N.players[e.inProgress.currentBowler.playerIndex],battingPlayers:S.players}),n.createElement(M,{batters:k(),bowler:e.inProgress.currentBowler,fielders:void 0===e.inProgress.currentInnings?[]:Object(F.a)(e.inProgress.match,e.inProgress.currentInnings.bowlingTeam).players,batterIndex:r,howout:O,fielderIndex:c,crossed:h,scores:v,batterChange:function(e){a(e),x(void 0),l(void 0),g(!1)},howoutChange:function(e){x(e),l(void 0),g(!1),E(s.b.Valid)},fielderChange:function(e){return l(Number.isNaN(e)?void 0:e)},crossedChange:g,scoresChange:p,deliveryOutcomeChange:E,availableHowouts:B(k()[r]),fielderRequired:void 0!==O&&s.q(O),couldCross:void 0!==O&&s.m(O),couldScoreRuns:void 0!==O&&s.p(O),couldBeNoBall:void 0!==O&&s.n(O),couldBeWide:void 0!==O&&s.o(O),deliveryOutcome:y,battingPlayers:S.players})))})),L=r(297),q=r(309),H=r(41),V=r(332),D=Object(V.a)(function(e){var t=e.inProgressMatchStore,r=e.userProfile,a=e.isAuthenticated,o=n.useContext(H.a).setOptions;return n.useEffect(function(){return o({showMatchesLink:!0})},[]),n.createElement(A,{inProgress:t,storeMatch:Object(L.a)(a,t.setId),userProfile:r})});t.default=Object(q.a)()(Object(a.c)("inProgressMatchStore")(D))}}]);