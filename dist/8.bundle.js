(window.webpackJsonp=window.webpackJsonp||[]).push([[8,2],{288:function(e,t,n){"use strict";var r,a,i,o,c,l,s,u,m,d;n.d(t,"d",function(){return r}),n.d(t,"i",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"j",function(){return u}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return d}),n.d(t,"l",function(){return g}),n.d(t,"t",function(){return f}),n.d(t,"u",function(){return b}),n.d(t,"s",function(){return v}),n.d(t,"r",function(){return h}),n.d(t,"q",function(){return y}),n.d(t,"m",function(){return E}),n.d(t,"p",function(){return w}),n.d(t,"n",function(){return O}),n.d(t,"o",function(){return x}),n.d(t,"k",function(){return I}),function(e){e[e.Bowled=0]="Bowled",e[e.Lbw=1]="Lbw",e[e.Caught=2]="Caught",e[e.RunOut=3]="RunOut",e[e.Stumped=4]="Stumped",e[e.HitWicket=5]="HitWicket",e[e.TimedOut=6]="TimedOut",e[e.HandledBall=7]="HandledBall",e[e.ObstructingField=8]="ObstructingField"}(r||(r={})),function(e){e[e.Retired=0]="Retired",e[e.Absent=1]="Absent"}(a||(a={})),function(e){e[e.Valid=0]="Valid",e[e.Noball=1]="Noball",e[e.Wide=2]="Wide"}(i||(i={})),function(e){e[e.LimitedOvers=0]="LimitedOvers",e[e.Time=1]="Time"}(o||(o={})),function(e){e[e.InProgress=0]="InProgress",e[e.AllOut=1]="AllOut",e[e.OversComplete=2]="OversComplete",e[e.Declared=3]="Declared",e[e.MatchComplete=4]="MatchComplete"}(c||(c={})),function(e){e[e.HomeTeam=0]="HomeTeam",e[e.AwayTeam=1]="AwayTeam"}(l||(l={})),function(e){e[e.HomeWin=0]="HomeWin",e[e.AwayWin=1]="AwayWin",e[e.Tie=2]="Tie",e[e.Draw=3]="Draw",e[e.Abandoned=4]="Abandoned"}(s||(s={})),function(e){e[e.Runs=0]="Runs",e[e.Wickets=1]="Wickets"}(u||(u={})),function(e){e[e.BadLight=0]="BadLight",e[e.CloseOfPlay=1]="CloseOfPlay",e[e.Innings=2]="Innings",e[e.Lunch=3]="Lunch",e[e.Rain=4]="Rain",e[e.Tea=5]="Tea"}(m||(m={})),function(e){e[e.Delivery=0]="Delivery",e[e.NonDeliveryWicket=1]="NonDeliveryWicket",e[e.BatterUnavailable=2]="BatterUnavailable",e[e.BatterAvailable=3]="BatterAvailable",e[e.OverComplete=4]="OverComplete"}(d||(d={}));var g=function(e,t,n){return function(a){return a?function(a){switch(a.howOut){case r.Bowled:return"bowled "+e(a.bowlerIndex);case r.Lbw:return"lbw "+e(a.bowlerIndex);case r.Caught:return n(a.bowlerIndex,a.fielderIndex)?"ct & bowled "+e(a.bowlerIndex):"ct "+t(a.fielderIndex)+" b "+e(a.bowlerIndex);case r.RunOut:return a.fielderIndex?"run out ("+t(a.fielderIndex)+")":"run out";case r.Stumped:return"st "+t(a.fielderIndex)+" b "+e(a.bowlerIndex);case r.TimedOut:return"timed out";case r.ObstructingField:return"obstructing the field";case r.HandledBall:return"handled the ball";case r.HitWicket:return"hit wkt "+e(a.bowlerIndex)}}(a):"not out"}},f=function(e){switch(e){case a.Absent:return"absent";case a.Retired:return"retired";default:return""}},b=function(e){return e.outcome.deliveryOutcome!==i.Noball&&e.outcome.deliveryOutcome!==i.Wide},v=function(e,t){var n=t.filter(b);return""+e+(n.length>0?"."+n.length:"")},p=[r.RunOut,r.TimedOut,r.HandledBall,r.ObstructingField],h=function(e){return function(t){return Object.keys(r).filter(function(e){return!isNaN(Number(r[e]))}).map(function(e){return r[e]}).filter(function(n){return t.playerIndex===e.playerIndex||void 0!==p.find(function(e){return e===n})})}},y=function(e){return e===r.Caught||e===r.Stumped||e===r.RunOut},E=function(e){return e===r.Caught||e===r.RunOut},w=function(e){return e===r.Caught||e===r.RunOut||e===r.ObstructingField},O=function(e){return e===r.RunOut||e===r.ObstructingField},x=function(e){return e===r.RunOut||e===r.Stumped||e===r.ObstructingField},I=function(e){return e.filter(function(e){return e.type===d.Delivery}).map(function(e){return e})}},289:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(288),a=function(e,t){return r.k(e).filter(function(e){return e.overNumber>t})},i=function(e){return e.filter(function(e){return e.outcome.deliveryOutcome===r.b.Valid&&(void 0===e.outcome.scores.runs||0===e.outcome.scores.runs)&&void 0===e.outcome.scores.boundaries}).length===e.length},o=function(e,t){return t===r.h.HomeTeam?e.homeTeam:e.awayTeam}},291:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a={display:"flex",flexDirection:"column"},i=(r({},{backgroundColor:"rgb(233, 236, 239)",paddingTop:"4px"},{paddingLeft:"15px"}),function(e){return{header:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,paddingLeft:"5px",paddingRight:"5px",borderRadius:"4px"},toolbar:r({padding:"0 8px"},e.mixins.toolbar)}})},293:function(e,t,n){"use strict";n.d(t,"h",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return m}),n.d(t,"i",function(){return d}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return f}),n.d(t,"f",function(){return b}),n.d(t,"j",function(){return v}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return h});var r=n(288),a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i=function(e){return e.filter(function(e){return void 0!==e}).map(function(e){return e}).reduce(function(e,t){return e+t},0)},o=function(e){return i([e.scores.byes,e.scores.legByes,e.scores.runs,e.scores.boundaries,e.scores.wides])},c=function(e,t){switch(e){case r.b.Wide:return t.runsForWide;case r.b.Noball:return t.runsForNoBall;default:return 0}},l=function(e){return void 0===e.scores.runs?void 0===e.scores.boundaries?0:e.scores.boundaries:e.scores.runs},s=function(e){return function(t,n,i){return a({},t,{byes:e(t.byes,void 0===n.scores.byes?0:n.scores.byes),legByes:e(t.legByes,void 0===n.scores.legByes?0:n.scores.legByes),wides:e(t.wides,(void 0===n.scores.wides?0:n.scores.wides)+(n.deliveryOutcome===r.b.Wide?i.runsForWide:0)),noBalls:e(t.noBalls,n.deliveryOutcome===r.b.Noball?i.runsForNoBall:0)})}},u=s(function(e,t){return e+t}),m=(s(function(e,t){return e-t}),function(e){return o(e)}),d=function(e,t){return o(e)+c(e.deliveryOutcome,t)},g=function(e){return void 0===e.scores.boundaries?[0,0]:[4===e.scores.boundaries?1:0,6===e.scores.boundaries?1:0]},f=function(e,t){return i([e.scores.runs,e.scores.boundaries,e.scores.wides])+c(e.deliveryOutcome,t)},b=function(e){var t=function(e){return e>1?"s":""},n=e.deliveryOutcome===r.b.Noball?"No ball - ":"";return void 0!==e.scores.runs&&e.scores.runs>0?""+n+e.scores.runs+" run"+t(e.scores.runs):void 0!==e.scores.boundaries?n+"Boundary "+e.scores.boundaries:void 0!==e.scores.byes?""+n+e.scores.byes+" bye"+t(e.scores.byes):void 0!==e.scores.legByes?""+n+e.scores.legByes+" leg bye"+t(e.scores.legByes):void 0!==e.scores.wides||e.deliveryOutcome===r.b.Wide?void 0===e.scores.wides||0===e.scores.wides?"Wide":e.scores.wides+" wide"+t(e.scores.wides):e.deliveryOutcome===r.b.Noball?"No ball":"Dot ball"},v=function(e){return void 0===e.wicket?0:1},p=function(e){return void 0===e.wicket?0:e.wicket.howOut===r.d.RunOut||e.wicket.howOut===r.d.ObstructingField?0:1},h=function(e,t,n,r){return void 0===e.wicket?void 0:{time:t,bowlerIndex:n,howOut:e.wicket.howOut,fielderIndex:e.wicket.fielderIndex}}},296:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a=function(e,t,n){return function(a){var i=function(e,t,n){return function(a){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];a.apply(void 0,i);var c=t();e(r({},c,{match:r({},c.match,{user:n()})}))}}}(e,t,n);if("function"==typeof a)return i(a);for(var o={},c=0,l=Object.keys(a);c<l.length;c++){var s=l[c];o[s]=i(a[s])}return o}}},297:function(e,t,n){"use strict";var r=n(75),a=n(82),i=n(79),o=n(83),c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function c(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,c)}l((r=r.apply(e,t||[])).next())})},s=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},u=function(e,t,n){var r=void 0,a=!1;return function(i){var o=function(){return l(void 0,void 0,void 0,function(){var t,n;return s(this,function(a){switch(a.label){case 0:return t=c({},r),r=void 0,[4,e.sendMatch(t)];case 1:return void 0!==(n=a.sent()).id&&n.id!==t.match.id&&i(n.id),void 0!==r&&o(),[2]}})})};return{storeMatch:function(e){return l(void 0,void 0,void 0,function(){return s(this,function(i){switch(i.label){case 0:if(!t()||!n())return[2];if(r=function(e){return{match:c({},e.match),currentBatterIndex:e.currentBatterIndex,currentBowlerIndex:e.currentBowlerIndex,version:e.version,lastEvent:e.lastEvent}}(e),a)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),a=!0,[4,o()];case 2:case 3:return i.sent(),[3,4];case 4:a=!1,i.label=5;case 5:return[2]}})})}}}}(Object(a.a)(Object(i.a)(3,1e3)),function(){return navigator.onLine},o.default.isAuthenticated),m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d=function(e){return function(t){return e.forEach(function(e){return e(t)})}},g=function(e){return function(t){e(t);var n=Object(r.a)(localStorage).getMatch();void 0!==n&&Object(r.a)(localStorage).storeMatch(m({},n,{match:m({},n.match,{id:t})}))}};t.a=function(e,t){return d(e?[Object(r.a)(localStorage).storeMatch,u(g(t)).storeMatch]:[Object(r.a)(localStorage).storeMatch])}},299:function(e,t,n){"use strict";var r=n(0),a=n(15),i=n.n(a),o=n(76),c=n.n(o),l=n(21),s=n.n(l),u=n(311),m=n.n(u),d=n(34);t.a=function(e){var t=e.heading,n=e.save,a=e.canSave,o=e.children;return r.createElement(r.Fragment,null,r.createElement(c.a,{disableGutters:!0},r.createElement(i.a,{variant:"h4",color:"inherit",style:{flexGrow:1}},t),r.createElement(d.a,{title:a()?"Click to save":"Must be filled in before you can save"},r.createElement("span",null,r.createElement(s.a,{"aria-label":"complete",variant:"fab",color:"primary",onClick:n,disabled:!a()},r.createElement(m.a,null))))),o)}},303:function(e,t,n){"use strict";var r=n(0),a={transition:"background-color 1s"};t.a=function(e){var t=r.useState(!1),n=t[0],i=t[1],o=r.useRef(null),c=r.useRef(null);return r.useEffect(function(){if(!c.current)if(n&&o.current){o.current.style.borderRadius="5px";var t=e.highlightBackgroundColour||"#9b34ee",r=o.current.style.backgroundColor;o.current.style.backgroundColor=t,c.current=setTimeout(function(){o.current&&(o.current.style.backgroundColor=r),c.current=null},1e3)}else i(!0)},[e.text]),r.createElement("span",{style:a,ref:o},e.text)}},305:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c});var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a={textAlign:"center"},i={textAlign:"center"},o={textAlign:"right"},c=r({},o,{fontWeight:"bold"})},306:function(e,t,n){"use strict";var r=n(289);t.a=function(e,t){return{getBowlerAtIndex:function(n){return Object(r.a)(e,t.bowlingTeam).players[t.bowlers[n].playerIndex]},getBatterAtIndex:function(n){return Object(r.a)(e,t.battingTeam).players[t.batting.batters[n].playerIndex]},getFielderAtIndex:function(n){return Object(r.a)(e,t.bowlingTeam).players[n]||"sub"},sameBowlerAndFielder:function(e,n){return t.bowlers[e].playerIndex===n}}}},309:function(e,t,n){"use strict";var r=n(0),a=n(298),i=n(75),o=n(387),c=n(288),l=function(e,t,n){return[{name:e[t],playerIndex:t},{name:e[n],playerIndex:n}].concat(e.map(function(e,t){return{name:e,playerIndex:t}}).filter(function(e){return e.playerIndex!==t&&e.playerIndex!==n}))},s=function(e){return function(t,n,r,a){return{battingTeam:t,bowlingTeam:t===c.h.HomeTeam?c.h.AwayTeam:c.h.HomeTeam,score:0,wickets:0,completedOvers:0,totalOvers:"0",maximumOvers:a,events:[],batting:{extras:{byes:0,legByes:0,wides:0,noBalls:0,penaltyRuns:0},batters:l(e(t).players,n,r).map(function(e,t){return{position:t+1,name:e.name,playerIndex:e.playerIndex,innings:0===t||1===t?{runs:0,ballsFaced:0,fours:0,sixes:0,timeIn:(new Date).getTime()}:void 0}})},bowlers:[],fallOfWickets:[],status:c.e.InProgress}}},u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},m=function(e){return function(t,n){var r=function(){var r=t.bowlers.find(function(e){return e.playerIndex===n});if(r)return[u({},t),t.bowlers.indexOf(r)];var a=function(e,t){return{playerIndex:t,completedOvers:0,totalOvers:"0",maidenOvers:0,runs:0,wickets:0}}(e(t.bowlingTeam),n),i=t.bowlers.concat([a]);return[u({},t,{bowlers:i}),i.indexOf(a)]}();return[r[0],r[1]]}},d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g=n(293),f=function(e,t){return e.batting.batters.map(function(e,t){return{batter:e,index:t}}).filter(function(e){return e.batter.innings&&!e.batter.innings.wicket&&e.batter!==t}).map(function(e){return e.index})[0]},b=function(e,t){return{batterIndex:t,score:e.score,partnership:0===e.fallOfWickets.length?e.score:e.score-e.fallOfWickets[e.fallOfWickets.length-1].score,wicket:e.wickets}},v=n(289),p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h=function(e,t,n,r,a,i,o){var l,s=Object(v.c)(i,e.completedOvers),u=p({},e,{batting:p({},e.batting,{batters:e.batting.batters.map(function(e){return e===t?p({},t,{innings:void 0===t.innings?t.innings:(n=t.innings,i=g.c(r),o=i[0],l=i[1],p({},n,{ballsFaced:n.ballsFaced+(r.deliveryOutcome===c.b.Wide?0:1),runs:n.runs+g.h(r),fours:n.fours+o,sixes:n.sixes+l,wicket:a}))}):e;var n,i,o,l}).slice(),extras:g.a(e.batting.extras,r,o)}),bowlers:e.bowlers.map(function(e,t){return e===n?p({},n,{totalOvers:c.s(n.completedOvers,s.filter(function(e){return e.bowlerIndex===t})),runs:n.runs+g.d(r,o),wickets:n.wickets+g.e(r)}):e}).slice(),events:i,totalOvers:c.s(e.completedOvers,Object(v.c)(i,e.completedOvers)),score:e.score+g.i(r,o),wickets:e.wickets+g.j(r)});return p({},l=u,{fallOfWickets:0===g.j(r)?l.fallOfWickets:l.fallOfWickets.concat([b(l,e.batting.batters.indexOf(t))])})},y=function(e,t,n,r){return r&&r.changedEnds?f(e,t):n%2==0?e.batting.batters.indexOf(t):f(e,t)},E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w=function(e,t,n,r){var a=e.bowlers.indexOf(r),i={time:t,bowlerIndex:a,type:c.c.OverComplete,batsmanIndex:e.batting.batters.indexOf(n)},o=Object(v.c)(e.events,e.completedOvers),l=!o.find(function(e){return e.bowlerIndex!==a})?E({},r,{completedOvers:r.completedOvers+1,totalOvers:Object(c.s)(r.completedOvers+1,[]),maidenOvers:Object(v.b)(o)?r.maidenOvers+1:r.maidenOvers}):r,s=f(e,n);return[E({},e,{events:e.events.concat([i]),bowlers:e.bowlers.map(function(e){return e.playerIndex===r.playerIndex?l:e}).slice(),completedOvers:e.completedOvers+1,totalOvers:Object(c.s)(e.completedOvers+1,[])}),s]},O=function(e){return e.status!==c.e.InProgress},x=function(e){return function(t,n){return n.status!==c.e.InProgress?n.status:t.type===c.f.LimitedOvers&&void 0!==n.maximumOvers&&n.completedOvers>=n.maximumOvers?c.e.OversComplete:n.wickets>=e(n.battingTeam).players.length-1?c.e.AllOut:c.e.InProgress}},I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T=function(e,t,n,r,a){return I({},e,{events:e.events.concat([t]),batting:I({},e.batting,{batters:e.batting.batters.map(function(e){return e===r?a(e):e}).slice()}),wickets:e.wickets+n})},B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k=function(e,t,n,r){var a={time:t,out:r,type:c.c.NonDeliveryWicket,batsmanIndex:e.batting.batters.indexOf(n)},i=T(e,a,1,n,function(e){return B({},e,{innings:B({},e.innings,{wicket:{time:t,howOut:r}})})});return[B({},i,{fallOfWickets:i.fallOfWickets.concat([b(i,e.batting.batters.indexOf(n))])}),a]},P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},j=function(e,t,n,r){return T(e,{time:t,reason:r,type:c.c.BatterUnavailable,batsmanIndex:e.batting.batters.indexOf(n)},0,n,function(e){return P({},e,{unavailableReason:r})})},S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C=function(e,t,n){return T(e,{time:t,type:c.c.BatterAvailable,batsmanIndex:e.batting.batters.indexOf(n)},0,n,function(e){return S({},e,{unavailableReason:void 0})})},R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},F=function(e){return{battingTeam:e.battingTeam,bowlingTeam:e.bowlingTeam,score:0,wickets:0,completedOvers:0,totalOvers:"0",maximumOvers:e.maximumOvers,events:[],batting:{extras:{byes:0,legByes:0,wides:0,noBalls:0,penaltyRuns:0},batters:e.batting.batters.map(function(e,t){return{playerIndex:e.playerIndex,innings:t<=1&&e.innings?{runs:0,timeIn:e.innings.timeIn,ballsFaced:0,fours:0,sixes:0}:void 0}})},bowlers:[],fallOfWickets:[],status:c.e.InProgress}},M=function(e,t,n,r,a){var i=function(i){return function(o,l){switch(l.type){case c.c.Delivery:var s=l,u=i.bowlers[s.bowlerIndex].playerIndex,m=function(e,t){return e.bowlers.find(function(e){return e.playerIndex===t})?e:R({},e,{bowlers:e.bowlers.concat([{playerIndex:t,completedOvers:0,totalOvers:"0",maidenOvers:0,runs:0,wickets:0}])})}((b=o.innings,v=s.batsmanIndex,p=s.time,void 0!==b.batting.batters[v].innings?b:R({},b,{batting:R({},b.batting,{batters:b.batting.batters.map(function(e,t){return t!==v?e:R({},e,{innings:{runs:0,timeIn:p,ballsFaced:0,fours:0,sixes:0}})})})})),u),d=m.bowlers.find(function(e){return e.playerIndex===u}),g=e(m,l.time,m.batting.batters[s.batsmanIndex],d,s.outcome.deliveryOutcome,s.outcome.scores,s.outcome.wicket);return{innings:g[0],batterIndex:g[1]};case c.c.NonDeliveryWicket:return{innings:t(o.innings,l.time,o.innings.batting.batters[l.batsmanIndex],l.out)[0],batterIndex:o.batterIndex};case c.c.BatterUnavailable:return{innings:n(o.innings,l.time,o.innings.batting.batters[l.batsmanIndex],l.reason),batterIndex:o.batterIndex};case c.c.BatterAvailable:return{innings:r(o.innings,l.time,o.innings.batting.batters[l.batsmanIndex]),batterIndex:o.batterIndex};case c.c.OverComplete:var f=a(o.innings,l.time,o.innings.batting.batters[l.batsmanIndex],o.innings.bowlers[l.bowlerIndex]);return{innings:f[0],batterIndex:f[1]};default:return o}var b,v,p}},o=function(e,t){var n=e.filter(function(e){return void 0!==e.batsmanIndex});return 0===n.length?t:n[0].batsmanIndex};return function(e,t,n){return n.reduce(i(e),{batterIndex:o(n,t),innings:F(e)})}},A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},W=function(e,t){return A({},e,{maximumOvers:t})},D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},N=function(e){return function(t,n,r,a){var i,o=t.bowlers.find(function(e){return e.playerIndex===a})?t:D({},t,{bowlers:t.bowlers.concat([{playerIndex:a,completedOvers:0,totalOvers:"0",maidenOvers:0,runs:0,wickets:0}])}),c=o.bowlers.findIndex(function(e){return e.playerIndex===a}),l=o.events.reduce(function(e,t){return t.overNumber===n?{events:e.events.concat(e.counter<r-1?t:D({},t,{bowlerIndex:c})),counter:e.counter+1}:{events:e.events.concat(t),counter:e.counter}},{events:[],counter:0}).events,s=e(o,0,l).innings;return(i=s).bowlers.find(function(e){return e.playerIndex===a})?i:D({},i,{bowlers:i.bowlers.concat([{playerIndex:a,completedOvers:0,totalOvers:"0",maidenOvers:0,runs:0,wickets:0}])})}},L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},H=function(e,t,n){return L({},e,{status:t,completeTime:n})},U=function(e,t){var n,r=function(e,t){return function(n,r,a,i,o,l,s){void 0===s&&(s=void 0);var u={deliveryOutcome:o,scores:l,wicket:s},m={time:r,outcome:u,type:c.c.Delivery,overNumber:n.completedOvers+1,batsmanIndex:n.batting.batters.indexOf(a),bowlerIndex:n.bowlers.indexOf(i)},d=n.events.concat([m]),f=n.bowlers.indexOf(i);return[h(n,a,i,u,g.b(u,r,f>=0?f:void 0,t(n.bowlingTeam).players),d,e),y(n,a,g.g({deliveryOutcome:o,scores:l}),u.wicket),m]}}(e,t),a=M(r,k,j,C,w);return{completeOver:w,flipBatters:f,isComplete:O,nonDeliveryWicket:k,batterUnavailable:j,batterAvailable:C,editOvers:W,complete:H,create:s(t),newBowler:m(t),newBatter:function(e,t,n){var r=e.batting.batters.map(function(e,t){return{batter:e,index:t}}).filter(function(e){return void 0===e.batter.innings})[0].index,a=d({},e,{batting:d({},e.batting,{batters:e.batting.batters.slice(0,r).concat([{playerIndex:t,innings:{runs:0,ballsFaced:0,fours:0,sixes:0,timeIn:(new Date).getTime()}}]).concat(e.batting.batters.slice(r).filter(function(e){return e.playerIndex!==t}))})}),i=n?a.batting.batters[n]:void 0;return[a,i&&i.innings&&!i.innings.wicket?n:r]},delivery:r,calculateStatus:x(t),rebuild:a,rollback:(n=a,function(e,t){if(0===e.events.length||t>e.events.length-1)return[e,0,0];var r=e.events.filter(function(e,n){return n<=t}),a=r.filter(function(e){return e.type===c.c.Delivery}).map(function(e){return e}),i=a[a.length-1],o=n(e,i.batsmanIndex,r);return[o.innings,o.batterIndex,i.bowlerIndex]}),changeBowler:N(a)}},K=n(322),G=function(e){if(e.complete)return e.status;if(0===e.innings.length)return void 0===e.toss?"Not started":"Toss won by "+Object(v.a)(e,e.toss.tossWonBy).name+", "+Object(v.a)(e,e.toss.battingFirst).name+" to bat first";var t,n=(t=e.innings[e.innings.length-1],Object(v.a)(e,t.battingTeam).name+" "+t.score+"-"+t.wickets);return 1===e.innings.length?n:1===e.config.inningsPerSide?n+", "+function(){var t=e.innings[e.innings.length-1],n=e.innings.reduce(function(e,n){return{battingTeamRuns:e.battingTeamRuns+(n.battingTeam===t.battingTeam?n.score:0),bowlingTeamRuns:e.bowlingTeamRuns+(n.battingTeam===t.bowlingTeam?n.score:0)}},{battingTeamRuns:0,bowlingTeamRuns:0}),r=n.battingTeamRuns,a=n.bowlingTeamRuns;return r===a?"scores level":r>a?Object(v.a)(e,t.battingTeam).name+" won by "+(r-a):Object(v.a)(e,t.battingTeam).name+" need "+(a-r+1)+" to win"}():n+", "+function(){var t=e.innings.reduce(function(e,t){return{homeTeamRuns:e.homeTeamRuns+(t.battingTeam===c.h.HomeTeam?t.score:0),awayTeamRuns:e.awayTeamRuns+(t.battingTeam===c.h.AwayTeam?t.score:0)}},{homeTeamRuns:0,awayTeamRuns:0}),n=t.homeTeamRuns,r=t.awayTeamRuns;if(n===r)return"the scores are level";var a=n>r?{name:Object(v.a)(e,c.h.HomeTeam).name,by:n-r}:{name:Object(v.a)(e,c.h.AwayTeam).name,by:r-n};return a.name+" won by "+a.by}()},Y=n(306),z={isComplete:function(e){return e.complete||2*e.config.inningsPerSide===e.innings.filter(function(e){return e.status!==c.e.InProgress}).length},status:function(e,t){var n=function(e){return e+" won by "+t.winMargin+" "+(void 0===t.winBy?"":t.winBy===c.j.Runs?"runs":"wickets")};return[t,function(){switch(t.result){case c.g.Abandoned:return"Match abandoned";case c.g.Draw:return"Match drawn";case c.g.Tie:return"Match tied";case c.g.HomeWin:return n(e.homeTeam.name);case c.g.AwayWin:return n(e.awayTeam.name);default:return""}}()]}},V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},q={changeBatting:function(e,t,n){var r=Array.from(new Set(n));if(t.batting.batters.length!==r.length)return t;var a=Object(v.a)(e,t.battingTeam);return V({},t,{batting:V({},t.batting,{batters:t.batting.batters.map(function(e,t){return V({},e,{playerIndex:n[t],name:a.players[n[t]]})})})})},changeBowling:function(e,t,n){var r=Array.from(new Set(n));if(t.bowlers.length!==r.length)return t;var a=Object(v.a)(e,t.bowlingTeam);return V({},t,{bowlers:t.bowlers.map(function(e,t){return V({},e,{playerIndex:n[t],name:a.players[n[t]]})})})}},J=n(323),Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},X=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},Z=function(e){return function(t){return Object(v.a)(e,t)}},$=function(e,t,n,r){var a=Q({},e,{innings:e.innings.map(function(r){return U(n,Z(e)).isComplete(r)?r:t}).slice()});return[Q({},a,{status:G(a)}),r+1]},_=function(e,t){var n=e.events.map(function(e){return e}).filter(function(e){return void 0!==e}).find(function(e){return e.overNumber===t});return void 0===n?void 0:e.bowlers[n.bowlerIndex]},ee=new(function(){function e(){var e=this;this.version=0,this.lastEvent=void 0,this.startMatch=function(t,n){e.match=Q({},e.match,{toss:{tossWonBy:t,battingFirst:n}}),e.match.status=G(e.match),e.version=e.version+1},this.undoToss=function(){e.match.innings.find(function(e){return e.events.length>0})||(e.match=Q({},e.match,{toss:void 0,innings:[]}),e.match.status=G(e.match),e.version=e.version+1)},this.startInnings=function(t,n,r,a){var i=e.matchInnings.create(t,n,r,a);e.match=Q({},e.match,{innings:e.match.innings.concat([i])}),e.currentBatterIndex=0},this.newBowler=function(t){if(void 0!==e.currentInnings&&(void 0===e.previousBowler||e.previousBowler.playerIndex!==t)){var n=e.matchInnings.newBowler(e.currentInnings,t),r=n[0],a=n[1];e.updateMatch(e.match,r),e.currentBowlerIndex=a}},this.newBatter=function(t){if(void 0!==e.currentInnings&&2!==e.currentInnings.batting.batters.filter(function(e){return void 0!==e.innings&&void 0===e.innings.wicket&&void 0===e.unavailableReason}).length){var n=e.currentInnings.batting.batters.map(function(e,t){return{batter:e,index:t}}).find(function(e){return e.batter.playerIndex===t&&void 0!==e.batter.unavailableReason}),r=n?[e.matchInnings.batterAvailable(e.currentInnings,(new Date).getTime(),n.batter),n.index]:e.matchInnings.newBatter(e.currentInnings,t,e.currentBatterIndex),a=r[0],i=r[1];e.updateMatch(e.match,a),e.currentBatterIndex=i}},this.delivery=function(t,n,r){if(void 0===r&&(r=void 0),void 0!==e.currentInnings&&void 0!==e.currentBatter&&void 0!==e.currentBowler){var a=e.matchInnings.delivery(e.currentInnings,(new Date).getTime(),e.currentBatter,e.currentBowler,t,n,r),i=a[0],o=a[1],c=a[2];e.updateMatch(Object(J.c)(e.match,(new Date).getTime()),i),e.currentBatterIndex=o,e.updateLastEvent(c,e.currentInnings,r?{time:c.time,howOut:r.howOut,bowlerIndex:e.currentBowlerIndex,fielderIndex:r.fielderIndex}:void 0)}},this.nonDeliveryWicket=function(t){if(void 0!==e.currentInnings&&void 0!==e.currentBatter){var n=e.matchInnings.nonDeliveryWicket(e.currentInnings,(new Date).getTime(),e.currentBatter,t),r=n[0],a=n[1];e.updateMatch(Object(J.c)(e.match,(new Date).getTime()),r),e.updateLastEvent(a,e.currentInnings,{howOut:t,time:a.time})}},this.batterUnavailable=function(t,n){if(void 0!==e.currentInnings&&void 0!==e.currentBatter){var r=e.currentInnings.batting.batters.find(function(e){return e.playerIndex===t});if(void 0!==r){var a=e.matchInnings.batterUnavailable(e.currentInnings,(new Date).getTime(),r,n);e.updateMatch(e.match,a)}}},this.undoPreviousDelivery=function(){if(void 0!==e.currentInnings&&0!==e.currentInnings.events.filter(function(e){return e.overNumber>0}).length){var t=e.undo(e.currentInnings,Number(e.currentBatterIndex),Number(e.currentBowlerIndex)),n=t[0],r=t[1],a=t[2];e.updateMatch(e.match,n),e.currentBatterIndex=r,e.currentBowlerIndex=a}},this.completeOver=function(){if(void 0!==e.currentInnings&&void 0!==e.currentBatter&&void 0!==e.currentBowler){var t=e.matchInnings.completeOver(e.currentInnings,(new Date).getTime(),e.currentBatter,e.currentBowler),n=t[0],r=t[1];e.updateMatch(Object(J.c)(e.match,(new Date).getTime()),n),e.currentBatterIndex=r,e.currentBowlerIndex=void 0}},this.flipBatters=function(){void 0!==e.currentInnings&&void 0!==e.currentBatter&&(e.currentBatterIndex=e.matchInnings.flipBatters(e.currentInnings,e.currentBatter))},this.completeInnings=function(t){if(void 0!==e.currentInnings){if(t===c.e.InProgress)throw new Error("cannot complete with in progress status");e.updateMatch(e.match,e.matchInnings.complete(e.currentInnings,t,(new Date).getTime())),e.startBreak(c.a.Innings)}},this.completeMatch=function(t){var n=z.status(e.match,t),r=n[0],a=n[1];e.match=Q({},Object(J.c)(e.match,(new Date).getTime()),{status:a,innings:e.match.innings.map(function(e){return e.status!==c.e.InProgress?e:Q({},e,{status:c.e.MatchComplete})}).slice(),complete:!0,result:r}),e.lastEvent=void 0},this.setId=function(t){e.match.id=t},this.setFromStoredMatch=function(t){e.match=t.match,e.version=t.version,e.currentBatterIndex=t.currentBatterIndex,e.currentBowlerIndex=t.currentBowlerIndex,e.lastEvent=t.lastEvent},this.changeOrders=function(t,n){if(void 0!==e.currentInnings){var r=q.changeBatting(e.match,e.currentInnings,t),a=q.changeBowling(e.match,r,n);e.updateMatch(e.match,a)}},this.rollback=function(t){var n=e.getRollback(t);void 0!==n&&(e.updateMatch(e.match,n[0]),e.currentBatterIndex=n[1],e.currentBowlerIndex=n[2])},this.updateOvers=function(t){void 0!==e.currentInnings&&e.updateMatch(e.match,e.matchInnings.editOvers(e.currentInnings,t))},this.startBreak=function(t){e.match=Object(J.d)(e.match,t,(new Date).getTime()),e.version=e.version+1,e.lastEvent=Object(J.a)(e.match)},this.updateTeams=function(t,n,r,a){e.match.homeTeam={name:t,players:r},e.match.awayTeam={name:n,players:a}},this.changeBowler=function(t,n){void 0!==e.currentInnings&&(e.updateMatch(e.match,e.matchInnings.changeBowler(e.currentInnings,e.currentInnings.completedOvers+1,t,n)),e.currentBowlerIndex=e.currentInnings.bowlers.findIndex(function(e){return e.playerIndex===n}))},this.getRollback=function(t){if(void 0!==e.currentInnings&&0!==e.currentInnings.events.length)return e.matchInnings.rollback(e.currentInnings,t)},this.updateLastEvent=function(t,n,r){var a=e.describeEvent(n,t,r);void 0!==a&&(e.lastEvent=a)},this.rolledBackInnings=function(t){var n=e.getRollback(t);return void 0===n?void 0:n[0]},this.updateMatch=function(t,n){var r=$(t,n,e.config,e.version),a=r[0],i=r[1];e.match=a,e.version=i}}return Object.defineProperty(e.prototype,"config",{get:function(){return this.match.config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchInnings",{get:function(){return U(this.config,Z(this.match))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"undo",{get:function(){return e=this.matchInnings.rebuild,function(t,n,r){if(0===t.events.length)return[t,n,r];var a=t.events.filter(function(e){return e.overNumber}),i=e(t,n,t.events.slice(0,t.events.length-1));return[i.innings,i.batterIndex,0===a.length?r:a[a.length-1].bowlerIndex]};var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"describeEvent",{get:function(){return e=this.match,function(t,n,r){var a,i,o,l,s=Object(Y.a)(e,t),u=c.l(s.getBowlerAtIndex,s.getFielderAtIndex,s.sameBowlerAndFielder);switch(n.type){case c.c.Delivery:return i=n,o=s.getBowlerAtIndex(i.bowlerIndex),l=s.getBatterAtIndex(i.batsmanIndex),r?l+" - "+u(r):t.completedOvers+"."+Object(v.c)(t.events,t.completedOvers).length+": "+o+" to "+l+" - "+Object(g.f)(i.outcome).toLowerCase();case c.c.NonDeliveryWicket:return a=n,s.getBatterAtIndex(a.batsmanIndex)+" - "+u(r);default:return}};var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentInnings",{get:function(){var e=this;return this.match.innings.find(function(t){return!e.matchInnings.isComplete(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentOver",{get:function(){var e=this.currentInnings;if(void 0!==e){var t=c.k(e.events).filter(function(t){return t.overNumber>e.completedOvers});return{deliveries:t,bowlingRuns:K.a(t,this.config),wickets:K.b(t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentOverComplete",{get:function(){var e=this.currentOver;return void 0===e?void 0:e.deliveries.filter(c.u).length>=6},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentBatter",{get:function(){var e=this.currentInnings;return void 0===e||void 0===this.currentBatterIndex?void 0:e.batting.batters[this.currentBatterIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentBowler",{get:function(){var e=this.currentInnings;return void 0===e||void 0===this.currentBowlerIndex?void 0:e.bowlers[this.currentBowlerIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousBowler",{get:function(){if(void 0!==this.currentInnings&&0!==this.currentInnings.completedOvers)return _(this.currentInnings,this.currentInnings.completedOvers)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousBowlerFromEnd",{get:function(){if(!(void 0===this.currentInnings||this.currentInnings.completedOvers<=1))return _(this.currentInnings,this.currentInnings.completedOvers-1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"provisionalInningsStatus",{get:function(){if(void 0!==this.currentInnings)return this.matchInnings.calculateStatus(this.match.config,this.currentInnings)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"provisionalMatchComplete",{get:function(){return z.isComplete(this.match)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canSelectBattingTeamForInnings",{get:function(){return this.match.config.type===c.f.Time&&this.match.config.inningsPerSide>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextBattingTeam",{get:function(){if(void 0!==this.match.toss)return 0===this.match.innings.length?this.match.toss.battingFirst===c.h.HomeTeam?this.match.homeTeam:this.match.awayTeam:Object(v.a)(this.match,this.match.innings[this.match.innings.length-1].bowlingTeam)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newBatterRequired",{get:function(){return void 0!==this.currentInnings&&this.currentInnings.batting.batters.filter(function(e){return e.innings&&!e.innings.wicket&&void 0===e.unavailableReason}).length<2},enumerable:!0,configurable:!0}),X([o.l],e.prototype,"match",void 0),X([o.l],e.prototype,"currentBatterIndex",void 0),X([o.l],e.prototype,"currentBowlerIndex",void 0),X([o.e],e.prototype,"currentInnings",null),X([o.e],e.prototype,"currentOver",null),X([o.e],e.prototype,"currentOverComplete",null),X([o.e],e.prototype,"currentBatter",null),X([o.e],e.prototype,"currentBowler",null),X([o.e],e.prototype,"previousBowler",null),X([o.e],e.prototype,"previousBowlerFromEnd",null),X([o.e],e.prototype,"provisionalInningsStatus",null),X([o.e],e.prototype,"provisionalMatchComplete",null),X([o.e],e.prototype,"canSelectBattingTeamForInnings",null),X([o.e],e.prototype,"nextBattingTeam",null),X([o.e],e.prototype,"newBatterRequired",null),X([o.d],e.prototype,"startMatch",void 0),X([o.d],e.prototype,"undoToss",void 0),X([o.d],e.prototype,"startInnings",void 0),X([o.d],e.prototype,"newBowler",void 0),X([o.d],e.prototype,"newBatter",void 0),X([o.d],e.prototype,"delivery",void 0),X([o.d],e.prototype,"nonDeliveryWicket",void 0),X([o.d],e.prototype,"batterUnavailable",void 0),X([o.d],e.prototype,"undoPreviousDelivery",void 0),X([o.d],e.prototype,"completeOver",void 0),X([o.d],e.prototype,"flipBatters",void 0),X([o.d],e.prototype,"completeInnings",void 0),X([o.d],e.prototype,"completeMatch",void 0),X([o.d],e.prototype,"setId",void 0),X([o.d],e.prototype,"setFromStoredMatch",void 0),X([o.d],e.prototype,"changeOrders",void 0),X([o.d],e.prototype,"rollback",void 0),X([o.d],e.prototype,"updateOvers",void 0),X([o.d],e.prototype,"startBreak",void 0),X([o.d],e.prototype,"updateTeams",void 0),X([o.d],e.prototype,"changeBowler",void 0),e}()),te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};t.a=function(){return function(e){return function(t){var n={inProgressMatchStore:ee},o=Object(i.a)(localStorage).getMatch();return!o||ee.match&&ee.match.id===o.match.id||ee.setFromStoredMatch(o),r.createElement(a.b,te({},n),r.createElement(e,te({},t)))}}}},322:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r=n(293),a=function(e){return e.filter(function(e){return void 0!==e.outcome.wicket}).length},i=function(e,t){return e.reduce(function(e,n){return e+Object(r.d)(n.outcome,t)},0)}},323:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n(288),a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i=function(e,t,n){return a({},e,{breaks:e.breaks.map(function(e){return e.endTime?e:a({},e,{endTime:n})}).concat([{type:t,startTime:n}])})},o=function(e,t){return e.breaks.find(function(e){return!e.endTime})?a({},e,{breaks:e.breaks.map(function(e){return e.endTime?e:a({},e,{endTime:t})})}):e},c=function(e){var t=e.breaks.filter(function(e){return!e.endTime}).sort(function(e,t){return e.startTime>t.startTime?-1:t.startTime>e.startTime?1:0});return 0===t.length?void 0:l(t[0].type)},l=function(e){switch(e){case r.a.Rain:return"Rain";case r.a.BadLight:return"Bad light";case r.a.Innings:return"Between innings";case r.a.Lunch:return"Lunch";case r.a.Tea:return"Tea";case r.a.CloseOfPlay:return"Close of play";default:return""}}},332:function(e,t,n){"use strict";var r=n(0),a=n(15),i=n.n(a),o=n(55),c=n(333),l=n.n(c),s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u={margin:"4px",textAlign:"center"},m=function(e){return{warning:{backgroundColor:"transparent",border:"1px solid "+e.palette.primary.main,color:e.palette.primary.main,paddingLeft:"5px",paddingRight:"5px",borderRadius:"4px"}}},d={marginRight:"4px",marginBottom:"-6px"};t.a=function(e){return Object(o.withStyles)(m)(function(t){return r.createElement(r.Fragment,null,!t.isAuthenticated&&r.createElement("div",{style:u},r.createElement("div",{className:t.classes.warning},r.createElement("span",null,r.createElement(i.a,{color:"inherit",variant:"body2"},r.createElement(l.a,{style:d}),"You are not currently logged in, you can continue to score but the match will not be stored online or appear in live updates")))),r.createElement(e,s({},t)))})}},388:function(e,t,n){"use strict";t.a=function(e,t,n){void 0!==e?void 0!==e.match.toss?e.match.complete?n.pathname.match(new RegExp("/scorecard","i"))||t.replace("/scorecard"):n.pathname.match(new RegExp("/match/inprogress","i"))||t.replace("/match/inprogress"):n.pathname.match(new RegExp("/match/start","i"))||t.replace("/match/start"):n.pathname.match(new RegExp("/match/create","i"))||t.replace("/match/create")}},414:function(e,t,n){"use strict";var r=function(e,t){return(t-e)/6e4};t.a=function(e){return function(t,n,a){var i=t.wicket?t.wicket.time:a||e(),o=n.filter(function(e){return e.startTime>=t.timeIn&&e.startTime<i}).reduce(function(e,t){return e+r(t.startTime,t.endTime||i)},0);return Math.round(r(t.timeIn,i)-o)}}},418:function(e,t,n){"use strict";var r=n(0),a=n(388),i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};t.a=function(e){return function(t){return r.useEffect(function(){Object(a.a)(t.inProgressMatchStore,t.history,t.location)},[]),void 0===t.inProgressMatchStore||void 0===t.inProgressMatchStore.match?null:r.createElement(e,i({},t))}}},419:function(e,t,n){"use strict";var r=n(0),a=n(40),i=n.n(a),o=n(15),c=n.n(o),l=n(55),s=n(291),u=n(316),m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d={paddingLeft:"20px",width:"50%"};t.a=Object(l.withStyles)(s.b)(function(e){var t=e.batter,n=e.bowler,a=e.classes;return r.createElement(i.a,{container:!0,className:a.header},r.createElement(u.c,{xsDown:!0},r.createElement(c.a,{style:m({},d,{width:"50%"}),color:"inherit",variant:"h5"},"Â "),r.createElement(c.a,{style:d,color:"inherit",variant:"h5"},n+" to "+t)),r.createElement(u.c,{smUp:!0},r.createElement(c.a,{style:m({},d,{width:"100%"}),color:"inherit",variant:"h5"},n+" to "+t)))})},422:function(e,t,n){"use strict";var r=n(0),a=n(40),i=n.n(a),o=n(58),c=n.n(o),l=n(15),s=n.n(l),u=n(74),m=n.n(u),d=n(55),g=n(305),f=n(303),b=function(e){return e.noBalls+"nb "+e.wides+"wd "+e.byes+"b "+e.legByes+"lb"},v=function(e){var t=e.extras;return r.createElement(i.a,{container:!0},r.createElement(i.a,{item:!0,xs:4,md:3},r.createElement(s.a,{variant:"body1"},"Extras")),r.createElement(i.a,{item:!0,xs:6,md:4},r.createElement(s.a,{variant:"body2"},r.createElement(f.a,{text:b(t)}))),r.createElement(i.a,{item:!0,xs:2,md:1},r.createElement(s.a,{style:g.c,variant:"body1"},r.createElement(f.a,{text:""+(t.byes+t.legByes+t.wides+t.noBalls)}))))},p=n(288),h=n(291),y=function(e){return r.createElement(s.a,{variant:"subtitle1",color:"inherit",style:e.style},e.children)},E=function(e,t){return(0===e||0===t?0:e/t*100).toFixed(2)},w=function(e){return r.createElement(i.a,{item:!0,xs:6,md:4},r.createElement(s.a,{variant:"body2"},r.createElement(f.a,{text:(t=e.batter,n=e.getBowlerAtIndex,a=e.getFielderAtIndex,o=e.sameBowlerAndFielder,t.innings||void 0!==t.unavailableReason?void 0!==t.unavailableReason?Object(p.t)(t.unavailableReason):Object(p.l)(n,a,o)(t.innings.wicket):"")})));var t,n,a,o},O=Object(d.withStyles)(h.b)(function(e){var t=e.batting,n=e.battingTeamPlayers,a=e.score,o=e.wickets,l=e.totalOvers,u=e.classes,d=e.getBowlerAtIndex,b=e.getFielderAtIndex,p=e.sameBowlerAndFielder,h=e.calculateMinutes;return r.createElement(i.a,{item:!0,lg:8,md:12,sm:12,xs:12},r.createElement(i.a,{container:!0,className:u.header},r.createElement(i.a,{item:!0,xs:10,md:6},r.createElement(y,null,"Batsman")),r.createElement(i.a,{item:!0,xs:2,md:1},r.createElement(y,{style:g.b},"Runs")),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:1},r.createElement(y,{style:g.b},"Balls"))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,xs:!1,md:1},r.createElement(y,{style:g.b},"Mins"))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,xs:!1,md:1},r.createElement(y,{style:g.b},"4s"))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,xs:!1,md:1},r.createElement(y,{style:g.b},"6s"))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,xs:!1,md:1},r.createElement(y,{style:g.b},"SR")))),t.batters.map(function(e,t){return r.createElement(r.Fragment,{key:t},r.createElement(i.a,{container:!0},r.createElement(i.a,{item:!0,xs:4,md:2},r.createElement(s.a,{variant:"body2"},n[e.playerIndex])),r.createElement(w,{batter:e,getBowlerAtIndex:d,getFielderAtIndex:b,sameBowlerAndFielder:p}),r.createElement(i.a,{item:!0,xs:2,md:1},r.createElement(s.a,{variant:"body1",style:g.c},r.createElement(f.a,{text:e.innings?e.innings.runs.toString():""}))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:1},r.createElement(s.a,{variant:"body1",style:g.b},r.createElement(f.a,{text:e.innings?e.innings.ballsFaced.toString():""})))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:1},r.createElement(s.a,{variant:"body1",style:g.b},r.createElement(f.a,{text:e.innings?""+h(e.innings):""})))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:1},r.createElement(s.a,{variant:"body1",style:g.b},r.createElement(f.a,{text:e.innings?e.innings.fours.toString():""})))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:1},r.createElement(s.a,{variant:"body1",style:g.b},r.createElement(f.a,{text:e.innings?e.innings.sixes.toString():""})))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:1},r.createElement(s.a,{variant:"body1",style:g.b},r.createElement(f.a,{text:e.innings?E(e.innings.runs,e.innings.ballsFaced):""})))),r.createElement(c.a,{mdUp:!0},r.createElement(i.a,{item:!0,xs:4})),r.createElement(c.a,{mdUp:!0},r.createElement(i.a,{item:!0,xs:8},r.createElement(s.a,{variant:"caption"},r.createElement(f.a,{text:(a=e.innings,a?a.ballsFaced+" balls, "+a.fours+" 4s, "+a.sixes+" 6s, SR "+E(a.runs,a.ballsFaced):"")}))))),r.createElement(i.a,{item:!0,xs:12},r.createElement(m.a,null)));var a}),r.createElement(v,{extras:t.extras}),r.createElement(i.a,{container:!0,className:u.header},r.createElement(i.a,{item:!0,xs:4,md:3},r.createElement(y,null,"Total")),r.createElement(i.a,{item:!0,md:4},r.createElement(y,null,r.createElement(f.a,{text:"for "+o+" ("+l+" overs)"}))),r.createElement(i.a,{item:!0,xs:2,md:1},r.createElement(y,{style:g.c},r.createElement(f.a,{text:a.toString()})))))}),x=Object(d.withStyles)(h.b)(function(e){var t=e.fallOfWickets,n=e.classes;return r.createElement(i.a,{item:!0,xs:12,lg:3},r.createElement(i.a,{container:!0,className:n.header},r.createElement(y,null,"Fall of wickets")),t.map(function(e){return r.createElement(r.Fragment,{key:e.wicket},r.createElement(i.a,{container:!0},r.createElement(i.a,{item:!0,xs:1},r.createElement(s.a,{variant:"body1"},e.wicket)),r.createElement(i.a,{item:!0,xs:6},r.createElement(s.a,{variant:"body1"},e.batter)),r.createElement(i.a,{item:!0,xs:2},r.createElement(s.a,{variant:"body1",style:g.b},e.score)),r.createElement(i.a,{item:!0,xs:2},r.createElement(s.a,{variant:"body1",style:g.b},e.partnership))),r.createElement(i.a,{item:!0,xs:12},r.createElement(m.a,null)))}))}),I=function(e,t){if(!t)return"0.00";var n,r=1===(n=t.split(".")).length?Number(n[0]):Number(n[0])+Number(n[1])/6;return 0===e||0===r?"0.00":(e/r).toFixed(2)},T=Object(d.withStyles)(h.b)(function(e){var t=e.team,n=e.bowlers,a=e.classes;return r.createElement(i.a,{item:!0,lg:8,md:12,sm:12,xs:12},r.createElement(s.a,{variant:"h5"},t," bowling"),r.createElement(i.a,{container:!0,className:a.header},r.createElement(i.a,{item:!0,xs:6,md:4}),r.createElement(i.a,{item:!0,xs:2},r.createElement(y,{style:g.a},"Overs")),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:2},r.createElement(y,{style:g.a},"Maidens"))),r.createElement(i.a,{item:!0,xs:2},r.createElement(y,{style:g.a},"Runs")),r.createElement(i.a,{item:!0,xs:2,md:1},r.createElement(y,{style:g.a},"Wkts")),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:1},r.createElement(y,{style:g.a},"Econ")))),n.map(function(e,t){return r.createElement(r.Fragment,{key:t},r.createElement(i.a,{container:!0},r.createElement(i.a,{item:!0,xs:6,md:4},r.createElement(s.a,{variant:"body2"},e.name)),r.createElement(i.a,{item:!0,xs:2,style:g.a},r.createElement(s.a,{variant:"body2"},r.createElement(f.a,{text:e.totalOvers}))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:2,style:g.a},r.createElement(s.a,{variant:"body2"},r.createElement(f.a,{text:e.maidenOvers.toString()})))),r.createElement(i.a,{item:!0,xs:2,style:g.a},r.createElement(s.a,{variant:"body2"},r.createElement(f.a,{text:e.runs.toString()}))),r.createElement(i.a,{item:!0,xs:2,md:1,style:g.a},r.createElement(s.a,{variant:"body2"},r.createElement(f.a,{text:e.wickets.toString()}))),r.createElement(c.a,{smDown:!0},r.createElement(i.a,{item:!0,md:1,style:g.a},r.createElement(s.a,{variant:"body2"},r.createElement(f.a,{text:I(e.runs,e.totalOvers)}))))),r.createElement(i.a,{item:!0,xs:12},r.createElement(m.a,null)))}))}),B=function(e){var t=e.innings,n=e.getTeam;return r.createElement(s.a,{variant:"h5"},r.createElement(f.a,{text:n(t.battingTeam).name+" "+t.score+(t.status===p.e.AllOut?" all out":"-"+t.wickets)}))},k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};t.a=function(e){var t=e.innings,n=e.getTeam,a=e.getBowlerAtIndex,o=e.getFielderAtIndex,l=e.sameBowlerAndFielder,s=e.calculateMinutes,u=n(t.battingTeam),m=n(t.bowlingTeam),d=function(e){return{wicket:e.wicket,score:e.score,partnership:e.partnership,batter:u.players[t.batting.batters[e.batterIndex].playerIndex]}};return r.createElement(r.Fragment,null,r.createElement(B,{innings:t,getTeam:n}),r.createElement(i.a,{container:!0},r.createElement(O,{batting:t.batting,score:t.score,wickets:t.wickets,totalOvers:t.totalOvers,battingTeamPlayers:u.players,getBowlerAtIndex:a,getFielderAtIndex:o,sameBowlerAndFielder:l,calculateMinutes:s}),r.createElement(c.a,{mdDown:!0},r.createElement(i.a,{item:!0,lg:1})),r.createElement(c.a,{mdDown:!0},r.createElement(x,{fallOfWickets:t.fallOfWickets.map(function(e){return d(e)})})),r.createElement(c.a,{lgUp:!0},t.fallOfWickets.length>0&&r.createElement(r.Fragment,null,r.createElement("div",{style:{height:"8px"}},"Â "),r.createElement(x,{fallOfWickets:t.fallOfWickets.map(function(e){return d(e)})}))),r.createElement(T,{team:m.name,bowlers:t.bowlers.map(function(e){return k({},e,{name:m.players[e.playerIndex]})})})))}},540:function(e,t,n){e.exports=n.p+"wide.png"},541:function(e,t,n){e.exports=n.p+"no-ball.png"},542:function(e,t,n){e.exports=n.p+"byes.png"},543:function(e,t,n){e.exports=n.p+"leg-byes.png"},544:function(e,t,n){var r=n(545);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(96)(r,a);r.locals&&(e.exports=r.locals)},545:function(e,t,n){(e.exports=n(95)(!1)).push([e.i,".innings-state-batter-indicator {\r\n    font-size: 14px\r\n}\r\n",""])},563:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n(298),o=n(287),c=n(32),l=n.n(c),s=n(55),u=n(288),m=n(40),d=n.n(m),g=n(15),f=n.n(g),b=n(76),v=n.n(b),p=n(21),h=n.n(p),y=n(334),E=n.n(y),w=n(336),O=n.n(w),x=n(337),I=n.n(x),T=n(295),B=n.n(T),k=n(308),P=n.n(k),j=n(324),S=n.n(j),C=n(304),R=n.n(C),F=n(58),M=n.n(F),A=n(313),W=n.n(A),D=n(314),N=n.n(D),L=n(321),H=n.n(L),U=function(e){return a.createElement(W.a,null,e.players.map(function(t,n){return a.createElement(N.a,{disabled:!(!e.notAllowedPlayers||void 0===e.notAllowedPlayers.find(function(e){return e===n})),selected:e.selectedPlayerIndex===n,key:n,role:void 0,dense:!0,button:!0,color:"primary",onClick:function(){return e.playerSelected(n)}},a.createElement(H.a,{primary:t}))}))},K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},G=function(e){var t,n,r,i,o=a.useState(e.defaultBattingTeam?e.teams.indexOf(e.defaultBattingTeam):-1),c=o[0],l=o[1],s=a.useState(Array()),m=s[0],g=s[1],b=a.useState(e.defaultBattingTeam?e.defaultBattingTeam.players:Array()),p=b[0],y=b[1],w=a.useState(e.canChangeBattingTeam?0:1),x=w[0],T=w[1],k=a.useState(e.maximumOvers),j=k[0],C=k[1],F=((t={})["Select batting team"]=!e.canChangeBattingTeam,t["Select number 1"]=!1,t["Select number 2"]=!1,t),A=K({},F,void 0!==e.maximumOvers&&((n={})["Maximum overs"]=!1,n)),W=function(){return void 0===e.maximumOvers?2:3};return a.createElement(d.a,{container:!0},a.createElement(d.a,{item:!0,sm:1,md:2}),a.createElement(d.a,{item:!0,xs:12,sm:10,md:8},a.createElement(v.a,{disableGutters:!0},a.createElement(f.a,{variant:"h4",color:"inherit",style:{flexGrow:1}},Object.keys(A)[x])),a.createElement(M.a,{xsDown:!0},a.createElement(E.a,{activeStep:x},Object.keys(A).map(function(e){return a.createElement(O.a,{key:e,disabled:A[e]},a.createElement(I.a,null,e))}))),a.createElement(M.a,{smUp:!0},a.createElement(E.a,{activeStep:x,orientation:"vertical"},Object.keys(A).map(function(e){return a.createElement(O.a,{key:e,disabled:A[e]},a.createElement(I.a,null,e))}))),a.createElement("div",{style:{marginBottom:"16px"}},a.createElement(h.a,{disabled:!(0!==x&&(e.canChangeBattingTeam||x>1)),onClick:function(){x>0&&T(x-1)}},"Back"),a.createElement(h.a,{variant:"contained",color:"primary",disabled:!function(){switch(x){case 0:return!0;case 1:case 2:return!!m.find(function(e){return e.position===x});case 3:return void 0!==j;default:return!1}}(),onClick:function(){var t,n,r;x===W()?(n=(t=function(e){return e?e.playerIndex:-1})(m.find(function(e){return 1===e.position})),r=t(m.find(function(e){return 2===e.position})),e.startInnings(0===c?u.h.HomeTeam:u.h.AwayTeam,n,r,j)):T(x+1)}},x<W()?"Next":"Start innings")),0===x&&a.createElement(B.a,null,e.teams.map(function(t,n){return a.createElement(P.a,{label:t.name,control:a.createElement(S.a,{checked:n===c,onChange:function(){return l(t=n),y(e.teams[t].players),void g([]);var t}})})})),(1===x||2===x)&&a.createElement(U,{players:p,playerSelected:function(e){return function(e,t){return g(m.filter(function(e){return e.position!==t}).concat([{position:t,playerIndex:e}]))}(e,x)},notAllowedPlayers:m.filter(function(e){return e.position!==x}).map(function(e){return e.playerIndex}),selectedPlayerIndex:(r=x,i=m.find(function(e){return e.position===r}),i?i.playerIndex:void 0)}),3===x&&a.createElement(R.a,{style:{marginBottom:"20px"},fullWidth:!0,label:"Number of overs",value:j,type:"number",onChange:function(e){return C(Number(e.target.value))}})))},Y=n(299),z=function(e){var t=a.useState(void 0===e.initiallySelected?-1:e.initiallySelected),n=t[0],r=t[1];return a.createElement(d.a,{container:!0},a.createElement(d.a,{item:!0,sm:1,md:2}),a.createElement(d.a,{item:!0,xs:12,sm:10,md:8},a.createElement(Y.a,{heading:"Select bowler",save:function(){n>=0&&e.selectBowler(n)},canSave:function(){return n>=0}},a.createElement(W.a,null,e.bowlingTeam.players.map(function(t,i){return a.createElement(N.a,{disabled:e.disallowedPlayers.indexOf(i)>=0,selected:i===n,key:i,role:void 0,dense:!0,button:!0,color:"primary",onClick:function(){return r(i)}},a.createElement(H.a,{primary:t}))})))))},V=n(320),q=n.n(V),J=n(74),Q=n.n(J),X=n(292),Z=n.n(X),$=n(290),_=n.n($),ee=n(441),te=n.n(ee),ne=n(140),re=n.n(ne),ae=function(e,t,n){return function(r){return function(){return e(n,t(r))}}},ie=n(34);!function(e){e[e.Runs=0]="Runs",e[e.Byes=1]="Byes",e[e.LegByes=2]="LegByes",e[e.Wide=3]="Wide"}(r||(r={}));var oe,ce={marginRight:"22px"},le=[{label:"runs",xsLabel:"ru",scoreType:r.Runs,availableForNoBall:!0},{label:"byes",xsLabel:"b",scoreType:r.Byes,availableForNoBall:!0},{label:"leg byes",xsLabel:"lb",scoreType:r.LegByes,availableForNoBall:!0},{label:"wide",xsLabel:"wd",scoreType:r.Wide,availableForNoBall:!1}],se=function(e){return a.createElement(a.Fragment,null,a.createElement(M.a,{smUp:!0},le.map(function(t,n){return a.createElement(a.Fragment,{key:t.scoreType},(!e.noBall||t.availableForNoBall)&&a.createElement(ie.a,{title:"Set the delivery to be "+t.label},a.createElement(P.a,{label:t.xsLabel,style:n<le.length-1?ce:{},control:a.createElement(S.a,{checked:e.selectedType===t.scoreType,onChange:function(){return e.scoreTypeChange(t.scoreType)}})})))})),a.createElement(M.a,{xsDown:!0},le.map(function(t){return a.createElement(a.Fragment,{key:t.scoreType},(!e.noBall||t.availableForNoBall)&&a.createElement(ie.a,{title:"Set the delivery to be "+t.label},a.createElement(P.a,{label:t.label,style:ce,control:a.createElement(S.a,{checked:e.selectedType===t.scoreType,onChange:function(){return e.scoreTypeChange(t.scoreType)}})})))})))},ue=n(46),me=n(47),de=function(e){return a.createElement("span",{style:{fontSize:"70%"}},"boundary",a.createElement("br",null),a.createElement("span",{style:{fontSize:"200%"}},e))},ge=function(e){return e===u.b.Wide?"Record a wide with no extra runs":e===u.b.Noball?"Record a no ball with no extra runs":"Record a dot ball"},fe=function(e){var t=e.deliveryOutcome,n=e.scoreType,i=e.hasBoundaries,o=e.getScores,c=e.action,l=ae(c,o,t),s=ae(c,t===u.b.Wide||n!==r.Runs?o:function(e){return{boundaries:e}},t),m=ae(c,function(){return{runs:0}},t),g=function(e){return{backgroundColor:e===u.b.Valid?te.a[600]:re.a[700],marginRight:"8px",marginBottom:"8px",color:"#ffffff"}}(t),f=function(e,t){return function(n,a){var i=function(){switch(t){case r.Runs:return 1===n?"1 run":n+" runs";case r.Byes:return 1===n?"1 bye":n+" byes";case r.LegByes:return 1===n?"1 leg bye":n+" leg byes";default:return""}},o=function(e){return a?e+" (boundary)":e};return e===u.b.Wide?o("Record a wide with "+(1===n?"an extra run":n+" extra runs")):e===u.b.Noball?o("Record a no ball with "+i()):o(i())}}(t,n);return a.createElement(d.a,{container:!0},a.createElement(d.a,{container:!0},a.createElement(ie.a,{title:ge(t)},a.createElement(h.a,{variant:"fab","aria-label":"Dot ball",style:g,onClick:m(0)},".")),a.createElement(ie.a,{title:f(1)},a.createElement(h.a,{variant:"fab","aria-label":"Single",style:g,onClick:l(1)},"1")),a.createElement(ie.a,{title:f(2)},a.createElement(h.a,{variant:"fab","aria-label":"Two",style:g,onClick:l(2)},"2")),a.createElement(ie.a,{title:f(3)},a.createElement(h.a,{variant:"fab","aria-label":"Three",style:g,onClick:l(3)},"3")),a.createElement(ie.a,{title:f(4,!0)},a.createElement(h.a,{variant:"extendedFab","aria-label":"Boundary Four",style:g,onClick:s(4)},de(4))),i&&a.createElement(ie.a,{title:f(6,!0)},a.createElement(h.a,{variant:"extendedFab","aria-label":"Boundary Six",style:g,onClick:s(6)},de(6)))),a.createElement(d.a,{container:!0},a.createElement(ue.a,{title:a.createElement(me.a.RunsScored,null)},a.createElement(Z.a,{value:0,onChange:function(e){return function(e,t){e>=4&&t(e)()}(Number(e.target.value),l)}},a.createElement(_.a,{value:0},"or select a score..."),a.createElement(_.a,{value:4},"4"),a.createElement(_.a,{value:5},"5"),a.createElement(_.a,{value:6},"6"),a.createElement(_.a,{value:7},"7"),a.createElement(_.a,{value:8},"8"),a.createElement(_.a,{value:9},"9"),a.createElement(_.a,{value:10},"10")))))},be=n(72),ve=n.n(be),pe=n(73),he=n.n(pe),ye=n(56),Ee=n.n(ye),we=n(19),Oe=n.n(we),xe=n(57),Ie=n.n(xe);!function(e){e[e.AllRunFourWarning=0]="AllRunFourWarning",e[e.AllRunSixWarning=1]="AllRunSixWarning"}(oe||(oe={}));var Te=function(e){return"You have entered a "+e+" as all run rather than a boundary.  Is this correct?"},Be=function(e){var t=e.warningType,n=e.onYes,r=e.onNo;return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"all-run-warning-title"},a.createElement(he.a,{id:"all-run-warning-title"},"All run"),a.createElement(Ee.a,null,a.createElement(Oe.a,null,function(e){switch(e){case oe.AllRunFourWarning:return Te("four");case oe.AllRunSixWarning:return Te("six")}}(t))),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:n,color:"primary",autoFocus:!0},"Yes"),a.createElement(h.a,{onClick:r,color:"primary"},"No"))))},ke=n(80),Pe=n.n(ke),je=n(60),Se=n.n(je),Ce=n(59),Re=n.n(Ce),Fe=n(293),Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ae={backgroundColor:te.a[600]},We={backgroundColor:re.a[700]},De=function(e){var t=e.outcome,n=e.onClose;return a.createElement(Pe.a,{open:!0,onClose:n,TransitionComponent:function(e){return a.createElement(Re.a,Me({direction:"down"},e))},anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3},a.createElement(Se.a,{style:t.deliveryOutcome===u.b.Valid?Ae:We,message:Object(Fe.f)(t)}))};n(540),n(541),n(542),n(543);var Ne,Le,He,Ue={width:"51px",textAlign:"center"},Ke=function(e,t){if(t)return"../no-ball.png";switch(e){case r.Byes:return"../byes.png";case r.LegByes:return"../leg-byes.png";case r.Wide:return"../wide.png";default:return""}},Ge=function(e){return e.noBall||e.scoreType!==r.Runs?a.createElement("div",{style:Ue},a.createElement("img",{src:Ke(e.scoreType,e.noBall)})):null},Ye=Object(o.a)(function(e){var t=a.useState(!1),n=t[0],i=t[1],o=a.useState(r.Runs),c=o[0],l=o[1],s=a.useState(!1),m=s[0],g=s[1],f=a.useState(!1),b=f[0],v=f[1],p=a.useState(void 0),y=p[0],E=p[1],w=a.useState(void 0),O=w[0],x=w[1],I=a.useState(void 0),T=I[0],B=I[1],k=function(e){return function(t){var n;return(n={})[e]=t,n}},j=function(t,n){e.delivery(t,n),function(e,t){B({deliveryOutcome:e,scores:t})}(t,n),i(!1),l(r.Runs)},S=function(){g(!1),v(!1),E(void 0),x(void 0)},C=function(){void 0!==y&&void 0!==O&&j(y,O),S()};return a.createElement(a.Fragment,null,a.createElement("div",{style:{width:"100%"}},a.createElement(d.a,{container:!0},a.createElement("div",{style:{flex:1}},a.createElement(ie.a,{title:"Record a wicket"},a.createElement(h.a,{style:{marginRight:"10px",fontSize:"80%"},variant:"fab","aria-label":"Wicket",color:"primary",onClick:function(){return e.history.push("/match/wicket")}},"wicket")),a.createElement(ue.a,{title:a.createElement(me.a.WicketNoBall,null)},a.createElement("span",null,a.createElement(ie.a,{title:n?"Set the delivery to not be a no ball":"Set the delivery to be a no ball"},a.createElement(P.a,{style:{marginLeft:"8px"},label:"No ball",control:a.createElement(q.a,{color:"secondary",checked:n,onChange:function(e){return e.target.checked?(i(!0),void l(c===r.Wide?r.Runs:c)):i(!1)}})}))))),a.createElement(Ge,{scoreType:c,noBall:n})),a.createElement(d.a,{container:!0},a.createElement(d.a,{item:!0,xs:12},a.createElement(Q.a,{style:{marginTop:"10px",marginBottom:"10px"}}))),a.createElement(d.a,{container:!0},a.createElement(ue.a,{title:a.createElement(me.a.ScoreType,null)},a.createElement("div",null,a.createElement(se,{selectedType:c,noBall:n,scoreTypeChange:l})))),a.createElement(d.a,{container:!0},a.createElement(fe,{deliveryOutcome:n?u.b.Noball:c===r.Wide?u.b.Wide:u.b.Valid,scoreType:c,getScores:function(){switch(c){case r.Byes:return k("byes");case r.LegByes:return k("legByes");case r.Wide:return k("wides");default:return k("runs")}}(),action:function(e,t){if(void 0!==t.runs&&(4===t.runs||6===t.runs))return g(4===t.runs),v(6===t.runs),E(e),void x(t);j(e,t)},hasBoundaries:c===r.Runs}))),m&&a.createElement(Be,{warningType:oe.AllRunFourWarning,onYes:C,onNo:S}),b&&a.createElement(Be,{warningType:oe.AllRunSixWarning,onYes:C,onNo:S}),T&&a.createElement(De,{outcome:T,onClose:function(){return B(void 0)}}))}),ze=n(419),Ve=n(339),qe=n.n(Ve),Je=n(341),Qe=n.n(Je),Xe=n(342),Ze=n.n(Xe),$e=n(550),_e=n.n($e),et=(Ne=function(e,t){return e.fillText(t.toString(),11,20)},Le=function(e,t){Ne(e,t)},{drawOutcome:function(e,t){if(null!=e){var n=e.getContext("2d");null!==n&&(n.fillStyle="#ffffff",n.strokeStyle="#ffffff",n.font="14px Segoe UI",n.lineWidth=1,void 0!==t.wicket?function(e){e.fillText("W",9,20)}(n):void 0!==t.scores.byes?function(e,t){e.beginPath(),Ne(e,t),e.moveTo(15,4),e.lineTo(2,24),e.lineTo(28,24),e.lineTo(15,4),e.stroke()}(n,t.scores.byes):void 0!==t.scores.legByes?function(e,t){e.beginPath(),Ne(e,t),e.moveTo(15,27),e.lineTo(2,8),e.lineTo(28,8),e.lineTo(15,27),e.stroke()}(n,t.scores.legByes):t.deliveryOutcome===u.b.Wide?function(e,t){var n=function(t,n){e.beginPath(),e.arc(t,n,2,0,2*Math.PI),e.fill()},r=[function(){return n(8,8)},function(){return n(22,8)},function(){return n(22,22)},function(){return n(8,22)}];e.beginPath(),e.moveTo(15,2),e.lineTo(15,28),e.moveTo(2,15),e.lineTo(28,15),e.stroke();for(var a=0;a<t;a+=1)r[a]()}(n,void 0===t.scores.wides?0:t.scores.wides):void 0!==t.scores.runs&&t.scores.runs>0?Le(n,t.scores.runs):void 0!==t.scores.boundaries?Le(n,t.scores.boundaries):function(e){e.beginPath(),e.arc(15,15,4,0,2*Math.PI),e.fill()}(n),t.deliveryOutcome===u.b.Noball&&function(e){e.beginPath(),e.arc(15,15,14,0,2*Math.PI),e.stroke()}(n))}}}),tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nt={width:"30px",height:"30px",marginRight:"4px",color:"#ffffff",display:"inline-block",borderRadius:"4px",fontSize:"14px"},rt=tt({},nt,{backgroundColor:"#28a745"}),at=tt({},nt,{backgroundColor:"#dc3545"}),it=function(e){var t=a.useRef(null);return a.useEffect(function(){t.current&&et.drawOutcome(t.current,e.outcome)},[]),a.createElement("div",{style:e.outcome.deliveryOutcome===u.b.Noball||e.outcome.deliveryOutcome===u.b.Wide?at:rt},a.createElement("canvas",{width:30,height:30,ref:t}))},ot={minHeight:"100px",paddingTop:"10px",paddingBottom:"10px"},ct=function(e){var t=e.over;return a.createElement(ue.a,{title:a.createElement(me.a.CurrentOver,null)},a.createElement("div",{style:ot},a.createElement(d.a,{container:!0},a.createElement(f.a,{variant:"h6"},"This over "+t.wickets+" - "+t.bowlingRuns)),a.createElement(d.a,{container:!0},t.deliveries.map(function(e,t){return a.createElement(it,{key:t,outcome:e.outcome})}))))},lt=n(546),st=n.n(lt),ut=(n(544),function(e){var t,n=e.battingTeam,r=e.battingPlayers,i=e.bowlingPlayers,o=e.innings,c=e.batter,l=e.bowler;return a.createElement(a.Fragment,null,a.createElement(d.a,{item:!0,xs:8},a.createElement(f.a,{variant:"body1"},n)),a.createElement(d.a,{item:!0,xs:4},a.createElement(f.a,{variant:"body1"},o.score+"-"+o.wickets)),a.createElement(d.a,{item:!0,xs:8},a.createElement(f.a,{variant:"body1"},"Overs")),a.createElement(d.a,{item:!0,xs:4},a.createElement(f.a,{variant:"body1"},o.totalOvers)),o.batting.batters.filter(function(e){return e.innings&&!e.innings.wicket&&void 0===e.unavailableReason}).map(function(e,t){return{name:r[e.playerIndex],innings:e.innings,index:t}}).map(function(e){return a.createElement(a.Fragment,{key:e.index},a.createElement(d.a,{item:!0,xs:8},a.createElement(f.a,{variant:"body1"},e.name)),a.createElement(d.a,{item:!0,xs:4},a.createElement(f.a,{variant:"body1"},e.innings.runs+"("+e.innings.ballsFaced+")",e.name===r[c.playerIndex]&&a.createElement(st.a,{color:"primary",className:"innings-state-batter-indicator"}))))}),a.createElement(d.a,{item:!0,xs:8},a.createElement(f.a,{variant:"body1"},i[l.playerIndex])),a.createElement(d.a,{item:!0,xs:4},a.createElement(f.a,{variant:"body1"},l.totalOvers+"-"+l.maidenOvers+"-"+l.runs+"-"+l.wickets)),a.createElement(d.a,{item:!0,xs:8},a.createElement(f.a,{variant:"body1"},"Extras")),a.createElement(d.a,{item:!0,xs:4},a.createElement(f.a,{variant:"body1"},(t=o.batting.extras).byes+t.legByes+t.noBalls+t.wides+t.penaltyRuns)))}),mt=function(e){var t=e.battingTeam,n=e.bowlingTeam,r=e.innings,i=e.batter,o=e.bowler,c=e.currentOver;return a.createElement(a.Fragment,null,a.createElement(M.a,{xsDown:!0},a.createElement(ut,{battingTeam:t.name,battingPlayers:t.players,bowlingPlayers:n.players,innings:r,batter:i,bowler:o})),a.createElement(M.a,{smUp:!0},a.createElement(qe.a,{style:{width:"100%"}},a.createElement(Qe.a,{expandIcon:a.createElement(_e.a,null)},a.createElement(f.a,null,t.name+" "+r.score+"-"+r.wickets)),a.createElement(Ze.a,null,a.createElement(d.a,{container:!0},a.createElement(ut,{battingTeam:t.name,battingPlayers:t.players,bowlingPlayers:n.players,innings:r,batter:i,bowler:o}))))),a.createElement(ct,{over:c}))},dt=n(120),gt=n.n(dt),ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},bt=function(e){var t=e.completeOver;return a.createElement(Pe.a,{open:!0,TransitionComponent:function(e){return a.createElement(Re.a,ft({direction:"down"},e))},anchorOrigin:{vertical:"bottom",horizontal:"center"}},a.createElement(Se.a,{style:{backgroundColor:gt.a[700]},message:"The current over should now be complete",action:a.createElement(h.a,{size:"small",color:"secondary",onClick:t},"Complete it now")}))},vt={padding:"10px",height:"100%"},pt=function(e){return a.createElement(l.a,{elevation:1,style:vt},a.createElement(d.a,{container:!0},e.children))},ht={marginTop:"10px",marginBottom:"10px",padding:"5px"},yt=function(e){return a.createElement(d.a,{container:!0},a.createElement(ze.a,{batter:e.battingTeam.players[e.batter.playerIndex],bowler:e.bowlingTeam.players[e.bowler.playerIndex],battingPlayers:e.battingTeam.players}),a.createElement(d.a,{container:!0},a.createElement(d.a,{item:!0,xs:12,lg:6,style:ht},a.createElement(pt,null,a.createElement(mt,{battingTeam:e.battingTeam,bowlingTeam:e.bowlingTeam,innings:e.innings,batter:e.batter,bowler:e.bowler,currentOver:e.currentOver}))),a.createElement(d.a,{item:!0,xs:12,lg:6,style:ht},a.createElement(pt,null,a.createElement(Ye,{delivery:e.delivery,overComplete:e.overComplete,homeTeam:e.homeTeam,awayTeam:e.awayTeam,calculateResult:e.calculateResult})))),e.overComplete&&a.createElement(bt,{completeOver:e.completeOver}))},Et=n(422),wt=n(311),Ot=n.n(wt),xt=function(e){var t=a.useState(void 0),n=t[0],r=t[1],i=e.players.map(function(t,n){var r=e.batting.batters.find(function(e){return e.playerIndex===n&&void 0!==e.unavailableReason});return t+(r?"("+Object(u.t)(r.unavailableReason)+")":"")});return a.createElement(d.a,{container:!0},a.createElement(d.a,{item:!0,sm:1,md:2}),a.createElement(d.a,{item:!0,xs:12,sm:10,md:8},a.createElement(v.a,{disableGutters:!0},a.createElement(f.a,{variant:"h4",color:"inherit",style:{flexGrow:1}},"Select batter"),a.createElement(h.a,{"aria-label":"complete",variant:"fab",color:"primary",onClick:function(){e.batterSelected(n)},disabled:!(void 0!==n)},a.createElement(Ot.a,null))),a.createElement(U,{players:i,notAllowedPlayers:e.batting.batters.filter(function(e){return e.innings&&void 0===e.unavailableReason}).map(function(e){return e.playerIndex}),playerSelected:r,selectedPlayerIndex:n})))},It=function(e){var t=e.status,n=e.battingTeam,r=e.complete,i=e.undoPrevious;return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"innings-complete-title"},a.createElement(he.a,{id:"innings-complete-title"},"Innings complete"),a.createElement(Ee.a,null,a.createElement(Oe.a,null,function(e,t){switch(e){case u.e.AllOut:return t+" have been bowled out";case u.e.OversComplete:return"The overs are complete";default:return""}}(t,n))),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:r,color:"primary",autoFocus:!0},"OK"),a.createElement(h.a,{onClick:i,color:"primary"},"Undo previous"))))},Tt=n(300),Bt=n.n(Tt),kt=function(e){var t=e.calculateResult(),n=a.useState(t?t.result:void 0),r=n[0],i=n[1],o=a.useState(t?t.winBy:void 0),c=o[0],l=o[1],s=a.useState(t?t.winMargin:void 0),m=s[0],g=s[1];return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"complete-match-title"},a.createElement(he.a,{id:"complete-match-title"},"Complete match"),a.createElement(Ee.a,null,a.createElement(Oe.a,null,"Select the match result followed by OK or Cancel to not complete the match")),a.createElement(Ee.a,null,a.createElement(d.a,{container:!0,spacing:8},a.createElement(d.a,{item:!0,xs:12,md:6},a.createElement(B.a,{fullWidth:!0},a.createElement(Bt.a,{htmlFor:"result"},"Result"),a.createElement(Z.a,{inputProps:{id:"result"},value:r,onChange:function(e){return i(void 0!==e.target.value?Number(e.target.value):void 0)}},a.createElement(_.a,null,"Select result.."),a.createElement(_.a,{value:u.g.HomeWin},e.homeTeam+" won"),a.createElement(_.a,{value:u.g.AwayWin},e.awayTeam+" won"),a.createElement(_.a,{value:u.g.Tie},"Match tied"),a.createElement(_.a,{value:u.g.Draw},"Match drawn"),a.createElement(_.a,{value:u.g.Abandoned},"Match abandoned")))),(r===u.g.HomeWin||r===u.g.AwayWin)&&a.createElement(a.Fragment,null,a.createElement(d.a,{item:!0,xs:6,md:3},a.createElement(R.a,{fullWidth:!0,label:"by",value:m,type:"number",onChange:function(e){return g(e.target.value)}})),a.createElement(d.a,{item:!0,xs:6,md:3},a.createElement(B.a,{fullWidth:!0},a.createElement(Bt.a,{htmlFor:"winBy"},"Â "),a.createElement(Z.a,{inputProps:{id:"winBy"},value:void 0===c?-1:c,onChange:function(e){return l(void 0!==e.target.value?Number(e.target.value):void 0)}},a.createElement(_.a,{value:u.j.Runs},"runs"),a.createElement(_.a,{value:u.j.Wickets},"wickets"))))))),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:function(){return e.complete({winBy:c,winMargin:m,result:Number(r)})},color:"primary",autoFocus:!0,disabled:!(r===u.g.Abandoned||r===u.g.Draw||r===u.g.Tie||void 0!==c&&m)},"OK"),!e.disallowCancel&&a.createElement(h.a,{onClick:e.cancel,color:"primary"},"Cancel"))))},Pt=n(296),jt=n(289),St=function(e){if(e.innings.length<=1)return{result:u.g.Abandoned};if(!(e.config.inningsPerSide>1)){var t=e.innings[0].battingTeam,n=e.innings.reduce(function(e,n){return{battingFirstRuns:e.battingFirstRuns+(n.battingTeam===t?n.score:0),battingSecondRuns:e.battingSecondRuns+(n.battingTeam!==t?n.score:0)}},{battingFirstRuns:0,battingSecondRuns:0}),r=n.battingFirstRuns,a=n.battingSecondRuns;return r===a?{result:u.g.Tie}:a>r?{result:t===u.h.HomeTeam?u.g.AwayWin:u.g.HomeWin,winBy:u.j.Wickets,winMargin:""+(10-e.innings[e.innings.length-1].wickets)}:e.config.type===u.f.Time&&e.innings[e.innings.length-1].status!==u.e.AllOut?{result:u.g.Draw}:{result:t===u.h.HomeTeam?u.g.HomeWin:u.g.AwayWin,winBy:u.j.Runs,winMargin:""+(r-a)}}},Ct=n(306),Rt=n(414),Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Mt=Object(s.withStyles)(function(e){return{root:Ft({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,margin:"20px"})}})(Object(o.a)(function(e){var t=Object(Pt.a)(e.storeMatch,function(){return e.inProgress},function(){return e.userProfile.id}),n=t({delivery:e.inProgress.delivery,completeOver:e.inProgress.completeOver,undoPreviousDelivery:e.inProgress.undoPreviousDelivery,completeInnings:e.inProgress.completeInnings,completeMatch:e.inProgress.completeMatch}),r=function(t){return Object(Ct.a)(e.inProgress.match,t)},o=function(t){return Object(Rt.a)(function(){return(new Date).getTime()})(t,e.inProgress.match.breaks)};return a.createElement(l.a,{className:e.classes.root},a.createElement(i.a,{render:function(){return a.createElement(a.Fragment,null,!e.inProgress.currentInnings&&!e.inProgress.provisionalMatchComplete&&a.createElement(G,{teams:[e.inProgress.match.homeTeam,e.inProgress.match.awayTeam],startInnings:t(e.inProgress.startInnings),defaultBattingTeam:e.inProgress.nextBattingTeam,canChangeBattingTeam:e.inProgress.canSelectBattingTeamForInnings,maximumOvers:e.inProgress.match.config.oversPerSide}),e.inProgress.currentInnings&&!e.inProgress.currentBowler&&e.inProgress.provisionalInningsStatus===u.e.InProgress&&a.createElement(z,{bowlingTeam:Object(jt.a)(e.inProgress.match,e.inProgress.currentInnings.bowlingTeam),selectBowler:t(e.inProgress.newBowler),initiallySelected:void 0===e.inProgress.previousBowlerFromEnd?void 0:e.inProgress.previousBowlerFromEnd.playerIndex,disallowedPlayers:void 0===e.inProgress.previousBowler?[]:[e.inProgress.previousBowler.playerIndex]}),e.inProgress.newBatterRequired&&e.inProgress.provisionalInningsStatus===u.e.InProgress&&a.createElement(xt,{batting:e.inProgress.currentInnings.batting,players:Object(jt.a)(e.inProgress.match,e.inProgress.currentInnings.battingTeam).players,batterSelected:t(e.inProgress.newBatter)}),e.inProgress.currentInnings&&a.createElement(a.Fragment,null,e.inProgress.currentBatter&&e.inProgress.currentBowler&&e.inProgress.currentOver&&!e.inProgress.newBatterRequired&&a.createElement(a.Fragment,null,a.createElement(yt,{innings:e.inProgress.currentInnings,batter:e.inProgress.currentBatter,bowler:e.inProgress.currentBowler,overComplete:!!e.inProgress.currentOverComplete,currentOver:e.inProgress.currentOver,battingTeam:Object(jt.a)(e.inProgress.match,e.inProgress.currentInnings.battingTeam),bowlingTeam:Object(jt.a)(e.inProgress.match,e.inProgress.currentInnings.bowlingTeam),homeTeam:e.inProgress.match.homeTeam.name,awayTeam:e.inProgress.match.awayTeam.name,calculateResult:function(){return St(e.inProgress.match)},delivery:n.delivery,completeOver:n.completeOver}),a.createElement(pt,null,a.createElement(Et.a,{innings:e.inProgress.currentInnings,getTeam:function(t){return Object(jt.a)(e.inProgress.match,t)},getBowlerAtIndex:r(e.inProgress.currentInnings).getBowlerAtIndex,getFielderAtIndex:r(e.inProgress.currentInnings).getFielderAtIndex,sameBowlerAndFielder:r(e.inProgress.currentInnings).sameBowlerAndFielder,calculateMinutes:o}))),void 0!==e.inProgress.provisionalInningsStatus&&e.inProgress.provisionalInningsStatus!==u.e.InProgress&&a.createElement(It,{status:e.inProgress.provisionalInningsStatus,battingTeam:Object(jt.a)(e.inProgress.match,e.inProgress.currentInnings.battingTeam).name,complete:function(){return n.completeInnings(e.inProgress.provisionalInningsStatus)},undoPrevious:n.undoPreviousDelivery})),e.inProgress.provisionalMatchComplete&&a.createElement(kt,{homeTeam:e.inProgress.match.homeTeam.name,awayTeam:e.inProgress.match.awayTeam.name,complete:function(t){n.completeMatch(t),e.history.push("/scorecard")},disallowCancel:!0,cancel:function(){},calculateResult:function(){return St(e.inProgress.match)}}))}}))})),At=n(297),Wt=n(309),Dt=n(418),Nt=n(556),Lt=n.n(Nt),Ht=n(557),Ut=n.n(Ht),Kt=n(559),Gt=n.n(Kt),Yt=n(560),zt=n.n(Yt),Vt=n(558),qt=n.n(Vt),Jt=n(343),Qt=n.n(Jt),Xt=n(344),Zt=n.n(Xt),$t=n(554),_t=n.n($t),en=n(291),tn=n(316),nn=Object(s.withStyles)(en.b)(function(e){return a.createElement(Qt.a,{anchor:"right",open:e.isOpen,onClose:e.close,onOpen:e.open},a.createElement("div",{className:e.classes.toolbar},a.createElement(ie.a,{title:"Close the menu"},a.createElement(tn.d,{onClick:e.close},a.createElement(_t.a,null)))),a.createElement("div",{role:"button",onClick:close,onMouseDown:close},a.createElement(W.a,null,e.options.map(function(e){return a.createElement(ie.a,{key:e.text,title:e.title},a.createElement(N.a,{button:!0,dense:!0,color:"primary",onClick:e.action},a.createElement(Zt.a,null,e.icon),a.createElement(H.a,{primary:e.text})))})),a.createElement(Q.a,null),a.createElement(W.a,null,a.createElement(ie.a,{title:"Go to the match centre"},a.createElement(N.a,{button:!0,dense:!0,color:"primary",onClick:function(){return e.history.push("/matchcentre")}},a.createElement(H.a,{primary:"Match centre"}))))))}),rn=function(e){var t=e.yes,n=e.no;return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"over-not-complete-warning-title"},a.createElement(he.a,{id:"over-not-complete-warning-title"},"Over not complete"),a.createElement(Ee.a,null,a.createElement(Oe.a,null,"There has not been six legal deliveries in this over"),a.createElement(Oe.a,null,"Do you want to complete the over anyway")),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:t,color:"primary",autoFocus:!0},"Yes"),a.createElement(h.a,{onClick:n,color:"primary"},"No"))))},an=function(e){var t=a.useState(u.e.Declared),n=t[0],r=t[1];return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"complete-innings-title"},a.createElement(he.a,{id:"complete-innings-title"},"Complete innings"),a.createElement(Ee.a,null,a.createElement(Oe.a,null,"Select the reason for completing the innings followed by OK or Cancel to not complete the innings")),a.createElement(Ee.a,null,a.createElement(Z.a,{value:n,onChange:function(e){return r(Number(e.target.value))},fullWidth:!0},a.createElement(_.a,{value:u.e.Declared},"Declared"),a.createElement(_.a,{value:u.e.AllOut},"All out"),a.createElement(_.a,{value:u.e.OversComplete},"Overs complete"))),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:function(){return e.complete(n)},color:"primary",autoFocus:!0},"OK"),a.createElement(h.a,{onClick:e.cancel,color:"primary"},"Cancel"))))},on=function(e){var t=a.useState(e.overs),n=t[0],r=t[1];return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"update-innings-overs-title"},a.createElement(he.a,{id:"update-innings-overs-title"},"Update overs for innings"),a.createElement(Ee.a,null,a.createElement(R.a,{fullWidth:!0,label:"Number of overs",value:n,type:"number",onChange:function(e){return r(Number(e.target.value))}})),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:function(){return e.update(n)},color:"primary",autoFocus:!0},"OK"),a.createElement(h.a,{onClick:e.cancel,color:"primary"},"Cancel"))))},cn=function(e){var t=a.useState(void 0),n=t[0],r=t[1],i=e.innings.batting.batters.filter(function(t){return e.reason===u.i.Absent&&!t.innings||e.reason===u.i.Retired&&t.innings&&!t.innings.wicket}),o=e.reason===u.i.Retired?"retired":"absent";return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"update-innings-overs-title"},a.createElement(he.a,{id:"update-innings-overs-title"},"Mark one of the batting side as "+o),a.createElement(Ee.a,null,a.createElement(Oe.a,null,"Select the "+o+" player")),a.createElement(Ee.a,null,i.length>0&&a.createElement(Z.a,{value:n,onChange:function(e){return r(Number(e.target.value))},fullWidth:!0},i.map(function(t){return a.createElement(_.a,{key:t.playerIndex,value:t.playerIndex},e.battingPlayers[t.playerIndex])})),0===i.length&&a.createElement(Oe.a,null,"No players can be marked as "+o)),i.length>0&&a.createElement(Ie.a,null,a.createElement(h.a,{onClick:function(){return e.update(n,e.reason)},color:"primary",autoFocus:!0,disabled:void 0===n},"OK"),a.createElement(h.a,{onClick:e.cancel,color:"primary"},"Cancel")),0===i.length&&a.createElement(Ie.a,null,a.createElement(h.a,{onClick:e.cancel,color:"primary",autoFocus:!0},"OK"))))},ln=n(323),sn=Object.keys(u.a).filter(function(e){return!isNaN(Number(u.a[e]))}).map(function(e){return u.a[e]}),un=function(e){var t=a.useState(void 0),n=t[0],r=t[1];return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"complete-innings-title"},a.createElement(he.a,{id:"start-break-title"},"Start a match break"),a.createElement(Ee.a,null,a.createElement(Oe.a,null,"Select the type of the break followed by OK or Cancel to not start a new break")),a.createElement(Ee.a,null,a.createElement(Z.a,{value:n,onChange:function(e){return r(Number(e.target.value))},fullWidth:!0},sn.map(function(e){return a.createElement(_.a,{key:e,value:e},Object(ln.b)(e))}))),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:function(){return e.startBreak(Number(n))},color:"primary",autoFocus:!0,disabled:void 0===n},"OK"),a.createElement(h.a,{onClick:e.cancel,color:"primary"},"Cancel"))))},mn=function(e){var t=a.useRef(e.innings.events.filter(function(t){return t.overNumber===e.overNumber-1}).map(function(t){return e.innings.bowlers[t.bowlerIndex].playerIndex})),n=a.useState(e.currentPlayerIndex),r=n[0],i=n[1],o=a.useState(e.currentDelivery>1),c=o[0],l=o[1],s=a.useState(1===e.currentDelivery),u=s[0],m=s[1],d=a.useState(e.currentDelivery),g=d[0],f=d[1];return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"change-bowler-title"},a.createElement(he.a,{id:"change-bowler-title"},"Change the bowler of over "+e.overNumber),a.createElement(Ee.a,null,a.createElement(Oe.a,null,"Select the bowler")),a.createElement(Ee.a,null,a.createElement(Z.a,{value:r,onChange:function(e){return i(Number(e.target.value))},fullWidth:!0},e.bowlingPlayers.map(function(e,t){return{player:e,index:t}}).filter(function(e){return!t.current.find(function(t){return t===e.index})}).map(function(e){return a.createElement(_.a,{key:e.index,value:e.index},e.player)}))),e.currentDelivery>1&&a.createElement(Ee.a,null,a.createElement("div",null,a.createElement(h.a,{color:"primary",disabled:c,onClick:function(){l(!0),m(!1)}},"Full over"),a.createElement(h.a,{color:"primary",disabled:u,onClick:function(){l(!1),m(!0)}},"From now"),a.createElement(h.a,{color:"primary",disabled:!c&&!u,onClick:function(){l(!1),m(!1)}},"Select ball")),a.createElement("div",{style:{height:"50px"}},!c&&!u&&a.createElement(Z.a,{value:g,onChange:function(e){return f(Number(e.target.value))},fullWidth:!0},Array.from(Array(e.currentDelivery).keys()).map(function(e){return e+1}).map(function(e){return a.createElement(_.a,{key:e,value:e},e)})))),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:function(){c?e.changeForFullOver(r):u?e.changeFromNow(r):e.changeFromDelivery(g,r)},color:"primary",autoFocus:!0},"OK"),a.createElement(h.a,{onClick:e.cancel,color:"primary"},"Cancel"))))},dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},gn={allowed:!0},fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},bn=n(41),vn=n(332),pn=n(18),hn=function(e){return a.createElement("div",null,a.createElement(ve.a,{open:!0,"aria-labelledby":"match-network-title"},a.createElement(he.a,{id:"match-network-title"},"Network status"),a.createElement(Ee.a,null,a.createElement(Oe.a,null,e.status===pn.b?"You are now connected to the network.  Any updates to this match will be stored online and live updates will show.":"You are no longer connected to the network.  Updates to this match will no longer be stored online and live updated will not show")),a.createElement(Ie.a,null,a.createElement(h.a,{onClick:e.close,color:"primary",autoFocus:!0},"OK"))))},yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},En=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},wn=(He=Object(vn.a)(function(e){var t=a.useContext(bn.a).setOptions;return a.useEffect(function(){return t({openDrawer:e.openDrawer,showHelp:!0})},[]),a.createElement(Mt,En({},e,{inProgress:e.inProgressMatchStore,storeMatch:Object(At.a)(e.isAuthenticated,e.inProgressMatchStore.setId)}))}),function(e){var t=a.useState(!1),n=t[0],r=t[1],i=a.useRef(!1);return a.useEffect(function(){i.current&&e.isAuthenticated&&r(!0),i.current=!0},[e.status]),a.createElement(a.Fragment,null,a.createElement(He,yn({},e)),n&&a.createElement(hn,{status:e.status,close:function(){return r(!1)}}))});t.default=Object(Wt.a)()(Object(i.c)("inProgressMatchStore")(function(e){return function(t){return a.createElement(e,fn({},t,(n=t.inProgressMatchStore,r=t.isAuthenticated,i=function(){return t.userProfile.id},Object(Pt.a)(Object(At.a)(r,n.setId),function(){return n},i)({delivery:n.delivery,undoPreviousDelivery:n.undoPreviousDelivery,completeOver:n.completeOver,changeEnds:n.flipBatters,completeInnings:n.completeInnings,completeMatch:n.completeMatch,batterUnavailable:n.batterUnavailable,updateOvers:n.updateOvers,startBreak:n.startBreak,undoToss:n.undoToss,changeBowler:n.changeBowler}))));var n,r,i}}(Object(Dt.a)(function(e){return function(t){var n=a.useState(!1),r=n[0],i=n[1],o=a.useState(!1),c=o[0],l=o[1],s=a.useState(!1),m=s[0],d=s[1],g=a.useState(!1),f=g[0],b=g[1],v=a.useState(void 0),p=v[0],h=v[1],y=a.useState(!1),E=y[0],w=y[1],O=a.useState(!1),x=O[0],I=O[1],T=a.useState(!1),B=T[0],k=T[1],P=function(){return i(!0)},j=function(e){h(e),i(!1)},S=function(e,n){t.changeBowler(e,n),k(!1)},C=[dn({},gn,{text:"Undo previous",icon:a.createElement(Lt.a,null),action:function(){t.undoPreviousDelivery(),i(!1)},title:"Undo the previous previous entry"}),{allowed:!t.inProgressMatchStore.match.innings.find(function(e){return e.events.length>0}),text:"Undo the toss",icon:a.createElement(Lt.a,null),action:function(){i(!1),t.undoToss(),t.history.replace("/match/start")},title:"Go back and change the toss"},dn({},gn,{text:"Change ends",icon:a.createElement(Ut.a,null),action:function(){t.changeEnds(),i(!1)},title:"Swap the facing batter"}),dn({},gn,{text:"Change bowler",icon:a.createElement(Ut.a,null),action:function(){k(!0),i(!1)},title:"Change the bowler for this over"}),dn({},gn,{text:"Change players",icon:a.createElement(qt.a,null),action:function(){return t.history.push("/match/editplayers")},title:"Change any batter or bowler"}),{text:"Change overs",icon:a.createElement(qt.a,null),action:function(){w(!0),i(!1)},allowed:t.inProgressMatchStore.match.config.type===u.f.LimitedOvers,title:"Change the maximum overs for the innings"},dn({},gn,{text:"Edit innings",icon:a.createElement(qt.a,null),action:function(){return t.history.push("/match/editevents")},title:"Go back and change any delivery in the innings"}),dn({},gn,{text:"Edit teams",icon:a.createElement(qt.a,null),action:function(){return t.history.push("/match/editteams")},title:"Correct any mistakes made when entering the teams"}),dn({},gn,{text:"Retired",icon:a.createElement(Gt.a,null),action:function(){return j(u.i.Retired)},title:"Retire a batter"}),dn({},gn,{text:"Absent",icon:a.createElement(Gt.a,null),action:function(){return j(u.i.Absent)},title:"Mark a batter as being absent - can be undone"}),dn({},gn,{text:"Complete over",icon:a.createElement(Ot.a,null),action:function(){t.inProgressMatchStore.currentOverComplete?t.completeOver():l(!0)},title:"Complete the current over"}),dn({},gn,{text:"Complete innings",icon:a.createElement(Ot.a,null),action:function(){return d(!0)},title:"Complete the innings"}),dn({},gn,{text:"Complete match",icon:a.createElement(zt.a,null),action:function(){return b(!0)},title:"Complete the match and select a result"}),dn({},gn,{text:"Start break",icon:a.createElement(Gt.a,null),action:function(){I(!0),i(!1)},title:"Start a break in play"})];return a.createElement(a.Fragment,null,a.createElement(e,dn({},t,{openDrawer:P})),a.createElement(nn,{isOpen:r,close:function(){return i(!1)},open:P,options:C.filter(function(e){return e.allowed}),history:t.history}),c&&a.createElement(rn,{yes:function(){t.completeOver(),l(!1)},no:function(){l(!1)}}),m&&a.createElement(an,{complete:function(e){d(!1),t.completeInnings(e)},cancel:function(){return d(!1)}}),f&&a.createElement(kt,{homeTeam:t.inProgressMatchStore.match.homeTeam.name,awayTeam:t.inProgressMatchStore.match.awayTeam.name,complete:function(e){b(!1),t.completeMatch(e)},cancel:function(){return b(!1)},calculateResult:function(){return St(t.inProgressMatchStore.match)}}),E&&void 0!==t.inProgressMatchStore.currentInnings&&void 0!==t.inProgressMatchStore.currentInnings.maximumOvers&&a.createElement(on,{update:function(e){w(!1),t.updateOvers(e)},cancel:function(){return w(!1)},overs:t.inProgressMatchStore.currentInnings.maximumOvers}),void 0!==p&&void 0!==t.inProgressMatchStore.currentInnings&&a.createElement(cn,{innings:t.inProgressMatchStore.currentInnings,reason:p,update:function(e,n){h(void 0),t.batterUnavailable(e,n)},cancel:function(){return h(void 0)},battingPlayers:Object(jt.a)(t.inProgressMatchStore.match,t.inProgressMatchStore.currentInnings.battingTeam).players}),x&&a.createElement(un,{startBreak:function(e){t.startBreak(e),I(!1)},cancel:function(){return I(!1)}}),B&&t.inProgressMatchStore.currentInnings&&t.inProgressMatchStore.currentBowler&&t.inProgressMatchStore.currentOver&&a.createElement(mn,{changeForFullOver:function(e){return S(0,e)},changeFromNow:function(e){return S(t.inProgressMatchStore.currentOver.deliveries.length+1,e)},changeFromDelivery:S,currentDelivery:t.inProgressMatchStore.currentOver.deliveries.length+1,cancel:function(){return k(!1)},innings:t.inProgressMatchStore.currentInnings,overNumber:t.inProgressMatchStore.currentInnings.completedOvers+1,currentPlayerIndex:t.inProgressMatchStore.currentBowler.playerIndex,bowlingPlayers:Object(jt.a)(t.inProgressMatchStore.match,t.inProgressMatchStore.currentInnings.bowlingTeam).players}))}}(wn)))))}}]);