(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{291:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a={display:"flex",flexDirection:"column"},i=(r({},{backgroundColor:"rgb(233, 236, 239)",paddingTop:"4px"},{paddingLeft:"15px"}),function(e){return{header:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,paddingLeft:"5px",paddingRight:"5px",borderRadius:"4px"},toolbar:r({padding:"0 8px"},e.mixins.toolbar)}})},296:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a=function(e,t,n){return function(a){var i=function(e,t,n){return function(a){return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];a.apply(void 0,i);var o=t();e(r({},o,{match:r({},o.match,{user:n()})}))}}}(e,t,n);if("function"==typeof a)return i(a);for(var c={},o=0,u=Object.keys(a);o<u.length;o++){var l=u[o];c[l]=i(a[l])}return c}}},297:function(e,t,n){"use strict";var r=n(75),a=n(82),i=n(79),c=n(83),o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u=function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function c(e){try{u(r.next(e))}catch(e){i(e)}}function o(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(c,o)}u((r=r.apply(e,t||[])).next())})},l=function(e,t){var n,r,a,i,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){c.label=i[1];break}if(6===i[0]&&c.label<a[1]){c.label=a[1],a=i;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(i);break}a[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},s=function(e,t,n){var r=void 0,a=!1;return function(i){var c=function(){return u(void 0,void 0,void 0,function(){var t,n;return l(this,function(a){switch(a.label){case 0:return t=o({},r),r=void 0,[4,e.sendMatch(t)];case 1:return void 0!==(n=a.sent()).id&&n.id!==t.match.id&&i(n.id),void 0!==r&&c(),[2]}})})};return{storeMatch:function(e){return u(void 0,void 0,void 0,function(){return l(this,function(i){switch(i.label){case 0:if(!t()||!n())return[2];if(r=function(e){return{match:o({},e.match),currentBatterIndex:e.currentBatterIndex,currentBowlerIndex:e.currentBowlerIndex,version:e.version,lastEvent:e.lastEvent}}(e),a)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),a=!0,[4,c()];case 2:case 3:return i.sent(),[3,4];case 4:a=!1,i.label=5;case 5:return[2]}})})}}}}(Object(a.a)(Object(i.a)(3,1e3)),function(){return navigator.onLine},c.default.isAuthenticated),f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d=function(e){return function(t){return e.forEach(function(e){return e(t)})}},m=function(e){return function(t){e(t);var n=Object(r.a)(localStorage).getMatch();void 0!==n&&Object(r.a)(localStorage).storeMatch(f({},n,{match:f({},n.match,{id:t})}))}};t.a=function(e,t){return d(e?[Object(r.a)(localStorage).storeMatch,s(m(t)).storeMatch]:[Object(r.a)(localStorage).storeMatch])}},299:function(e,t,n){"use strict";var r=n(0),a=n(15),i=n.n(a),c=n(76),o=n.n(c),u=n(21),l=n.n(u),s=n(311),f=n.n(s),d=n(34);t.a=function(e){var t=e.heading,n=e.save,a=e.canSave,c=e.children;return r.createElement(r.Fragment,null,r.createElement(o.a,{disableGutters:!0},r.createElement(i.a,{variant:"h4",color:"inherit",style:{flexGrow:1}},t),r.createElement(d.a,{title:a()?"Click to save":"Must be filled in before you can save"},r.createElement("span",null,r.createElement(l.a,{"aria-label":"complete",variant:"fab",color:"primary",onClick:n,disabled:!a()},r.createElement(f.a,null))))),c)}},317:function(e,t,n){"use strict";var r=n(0),a=n(32),i=n.n(a),c=n(40),o=n.n(c),u=n(55),l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};t.a=Object(u.withStyles)(function(e){return{root:l({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,margin:"20px"})}})(function(e){var t=e.classes,n=e.children;return r.createElement(i.a,{className:t.root},r.createElement(o.a,{container:!0},r.createElement(o.a,{item:!0,sm:1,md:2}),r.createElement(o.a,{item:!0,xs:12,sm:10,md:8},n)))})},571:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(298),i=n(297),c=n(309),o=n(317),u=n(15),l=n.n(u),s=n(40),f=n.n(s),d=n(74),m=n.n(d),p=n(292),g=n.n(p),h=n(290),v=n.n(h),b=n(299),y=n(288),x=n(291),w=n(55),O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},E={paddingTop:"10px"},j=O({},E,{textAlign:"right"}),I={marginLeft:"20px"},k={marginTop:"10px"},S={marginTop:"10px"},T=function(e){return e.reduce(function(e,t){var n;return O({},e,((n={})[t]=e[t]?e[t]+1:1,n))},{})},M=Object(w.withStyles)(x.b)(function(e){var t=r.useState(e.batters),n=t[0],a=t[1],i=r.useState(e.bowlers),c=i[0],o=i[1],u=r.useState([]),s=u[0],d=u[1],p=r.useState([]),h=p[0],x=p[1];return r.createElement(r.Fragment,null,r.createElement(b.a,{heading:"Change players",save:function(){s.length>0||h.length>0||e.save(n.map(function(e){return e.playerIndex}),c.map(function(e){return e.playerIndex}))},canSave:function(){return 0===s.length&&0===h.length}},r.createElement(f.a,{container:!0,className:e.classes.header},r.createElement(l.a,{style:I,color:"inherit",variant:"h6"},"Batting")),n.map(function(t,i){return r.createElement(f.a,{style:k,container:!0,key:i},r.createElement(f.a,{item:!0,xs:12,md:6,style:{paddingRight:"20px"}},r.createElement(g.a,{value:t.playerIndex,fullWidth:!0,error:s.find(function(e){return e===t.playerIndex})===t.playerIndex,onChange:function(t){return r=i,c=Number(t.target.value),o=n.map(function(t,n){return n===r?O({},t,{playerIndex:c,name:e.battingTeam[c]}):t}),u=T(o.map(function(e){return e.playerIndex})),a(o),void d(Object.keys(u).filter(function(e){return u[e]>1}).map(function(e){return Number(e)}));var r,c,o,u}},e.battingTeam.map(function(e,t){return r.createElement(v.a,{key:t,value:t},e)}))),r.createElement(f.a,{style:E,item:!0,xs:10,md:5},r.createElement(l.a,{variant:"subtitle1"},function(e,t,n,r){if(!e.innings&&void 0===e.unavailableReason)return"";var a=Object(y.l)(t,n,r);return void 0!==e.unavailableReason?Object(y.t)(e.unavailableReason):a(e.innings.wicket)}(t,e.getBowlerAtIndex,e.getFielderAtIndex,e.sameBowlerAndFielder))),r.createElement(f.a,{style:j,item:!0,xs:2,md:1},r.createElement(l.a,{variant:"subtitle1"},function(e){return void 0===e.innings?"":e.innings.runs.toString()}(t))),r.createElement(f.a,{style:S,item:!0,xs:12},r.createElement(m.a,null)))}),r.createElement(f.a,{container:!0,className:e.classes.header},r.createElement(l.a,{style:I,color:"inherit",variant:"h6"},"Bowling")),c.map(function(t,n){return r.createElement(f.a,{style:k,container:!0,key:n},r.createElement(f.a,{item:!0,xs:12,md:6,style:{paddingRight:"20px"}},r.createElement(g.a,{value:t.playerIndex,onChange:function(t){return r=n,a=Number(t.target.value),i=c.map(function(t,n){return n===r?O({},t,{playerIndex:a,name:e.bowlingTeam[a]}):t}),u=T(i.map(function(e){return e.playerIndex})),o(i),void x(Object.keys(u).filter(function(e){return u[e]>1}).map(function(e){return Number(e)}));var r,a,i,u},error:h.find(function(e){return e===t.playerIndex})===t.playerIndex,fullWidth:!0},e.bowlingTeam.map(function(e,t){return r.createElement(v.a,{key:t,value:t},e)}))),r.createElement(f.a,{style:E,item:!0,xs:12,md:6},r.createElement(l.a,{variant:"subtitle1"},function(e){return e.totalOvers+" - "+e.maidenOvers+" - "+e.runs+" - "+e.wickets}(t))),r.createElement(f.a,{style:S,item:!0,xs:12},r.createElement(m.a,null)))})))}),P=n(289),B=n(296),A=n(306),C=function(e,t,n,r){return Object(B.a)(t,function(){return e},r)(function(t,r){e.changeOrders(t,r),n()})},F=function(e){var t=e.inProgress,n=e.storeMatch,a=e.history,i=e.userProfile;if(void 0===t.currentInnings)return null;var c=Object(A.a)(t.match,t.currentInnings);return r.createElement(o.a,null,r.createElement(M,{batters:t.currentInnings.batting.batters,bowlers:t.currentInnings.bowlers,battingTeam:Object(P.a)(t.match,t.currentInnings.battingTeam).players,bowlingTeam:Object(P.a)(t.match,t.currentInnings.bowlingTeam).players,getBowlerAtIndex:c.getBowlerAtIndex,getFielderAtIndex:c.getFielderAtIndex,sameBowlerAndFielder:c.sameBowlerAndFielder,save:C(t,n,function(){return a.replace("/match/inprogress")},function(){return i.id})}))},N=n(41),R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};t.default=Object(c.a)()(Object(a.c)("inProgressMatchStore")(function(e){var t=r.useContext(N.a).setOptions;return r.useEffect(function(){return t({showMatchesLink:!0})},[]),r.createElement(F,R({},e,{inProgress:e.inProgressMatchStore,storeMatch:Object(i.a)(e.isAuthenticated,e.inProgressMatchStore.setId)}))}))}}]);